!function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var s=window.webpackJsonp;window.webpackJsonp=function(i,o){for(var r,a,l=0,h=[];l<i.length;l++)a=i[l],n[a]&&h.push.apply(h,n[a]),n[a]=0;for(r in o)t[r]=o[r];for(s&&s(i,o);h.length;)h.shift().call(null,e)};var i={},n={0:0};return e.e=function(t,s){if(0===n[t])return s.call(null,e);if(void 0!==n[t])n[t].push(s);else{n[t]=[s];var i=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=e.p+""+{1:"af7f925c9b936f4e1e08"}[t]+".js",i.appendChild(o)}},e.m=t,e.c=i,e.p="",e(0)}([function(t,e,s){window.BezierEasing=s(1);var i=window.siteData&&siteData.basePath||"";s(2),s(3),s(4),rb.isDebug=!0,rb.life.autoStart=!1,s.p=i+"js/",s(5),s(6),function(t){t(function(t){t="rb_"+t,t+="/"+t,s.e(1,function(){[!function(){var t=new Error('Cannot find module "../components"');throw t.code="MODULE_NOT_FOUND",t}()]})})}(rb.life.addImportHook),setTimeout(rb.life.init)},function(t,e){function s(t,e){return 1-3*e+3*t}function i(t,e){return 3*e-6*t}function n(t){return 3*t}function o(t,e,o){return((s(e,o)*t+i(e,o))*t+n(e))*t}function r(t,e,o){return 3*s(e,o)*t*t+2*i(e,o)*t+n(e)}function a(t,e,s,i,n){var r,a,l=0;do a=e+(s-e)/2,r=o(a,i,n)-t,r>0?s=a:e=a;while(Math.abs(r)>p&&++l<d);return a}function l(t,e,s,i){for(var n=0;c>n;++n){var a=r(e,s,i);if(0===a)return e;var l=o(e,s,i)-t;e-=l/a}return e}function h(t,e,s,i){if(4===arguments.length)return new h([t,e,s,i]);if(!(this instanceof h))return new h(t);if(!t||4!==t.length)throw new Error("BezierEasing: points must contains 4 values");for(var n=0;4>n;++n)if("number"!=typeof t[n]||isNaN(t[n])||!isFinite(t[n]))throw new Error("BezierEasing: points should be integers.");if(t[0]<0||t[0]>1||t[2]<0||t[2]>1)throw new Error("BezierEasing x values must be in [0, 1] range.");this._str="BezierEasing("+t+")",this._css="cubic-bezier("+t+")",this._p=t,this._mSampleValues=g?new Float32Array(f):new Array(f),this._precomputed=!1,this.get=this.get.bind(this)}var c=4,u=.001,p=1e-7,d=10,f=11,m=1/(f-1),g="function"==typeof Float32Array;h.prototype={get:function(t){var e=this._p[0],s=this._p[1],i=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===s&&i===n?t:0===t?0:1===t?1:o(this._getTForX(t),s,n)},getPoints:function(){return this._p},toString:function(){return this._str},toCSS:function(){return this._css},_precompute:function(){var t=this._p[0],e=this._p[1],s=this._p[2],i=this._p[3];this._precomputed=!0,(t!==e||s!==i)&&this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],s=0;f>s;++s)this._mSampleValues[s]=o(s*m,t,e)},_getTForX:function(t){for(var e=this._p[0],s=this._p[2],i=this._mSampleValues,n=0,o=1,h=f-1;o!==h&&i[o]<=t;++o)n+=m;--o;var c=(t-i[o])/(i[o+1]-i[o]),p=n+c*m,d=r(p,e,s);return d>=u?l(t,p,e,s):0===d?p:a(t,n,n+m,e,s)}},h.css={ease:h.ease=h(.25,.1,.25,1),linear:h.linear=h(0,0,1,1),"ease-in":h.easeIn=h(.42,0,1,1),"ease-out":h.easeOut=h(0,0,.58,1),"ease-in-out":h.easeInOut=h(.42,0,.58,1)},t.exports=h},function(t,e){!function(e,s){var i=s(e,e.document);"object"==typeof t&&t.exports&&(t.exports=i)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var s,i={},n=function(s,i){if(!(this instanceof n))return new n(s);if("string"==typeof s)s=Array.from((i||e).querySelectorAll(s));else if("function"==typeof s)return void(n.isReady?s(n):e.addEventListener("DOMContentLoaded",function(){s(n)}));Array.isArray(s)||(s=s?!s.nodeName&&"length"in s&&s!=t?Array.from(s):[s]:[]),this.elements=s,this.length=this.elements.length||0},o=/^\d+\.*\d*(px|em|rem|%|deg)$/,r=n.prototype,a={},l=function(t,e,s){var i,o,r,h=!1,c=Date.now(),u=t.style,p={},d=rb.rAFQueue,f=function(e,i){o=!0,i&&(r=!0),e&&n.fn.clearQueue&&s.queue!==!1&&new n(t).clearQueue(s.queue),v(),h=!0},m={},g=function(){s.always&&s.always.call(t),n.dequeue&&s.queue!==!1&&n.dequeue(t,s.queue)},v=function(){if(!h){var e,l,f,b=(Date.now()-c)/s.duration;if((b>1||r)&&(b=1),!o){f=i(b);for(e in p)l=(p[e].end-p[e].start)*f+p[e].start,e in a?(p[e].pos=f,p[e].now=l,a[e](p[e])):e in u?(n.cssNumber[e]||(l+=p[e].unit),u[e]=l):t[e]=l;s.progress&&s.progress(m,b)}1>b?o?g():d(v):(t._rbTweenStop&&delete t._rbTweenStop,s.complete&&!o&&s.complete.call(t),g())}};s=Object.assign({duration:400,easing:"ease"},s||{}),l.createPropValues(t,u,p,e,s),i=n.easing[s.easing]||n.easing.ease||n.easing.swing,t._rbTweenStop=f,m.opts=s,m.props=e,d(v)};return l.createPropValues=function(t,e,s,i,r){var a,l,h,c=rb.getStyles(t);for(a in i)s[a]={elem:t,options:r},"string"==typeof i[a]?(l=i[a].match(o),h=parseFloat(i[a]),s[a].end=isNaN(h)?i[a]:h):s[a].end=i[a]||0,s[a].unit=l&&l[1]||"px",n.cssHooks[a]&&n.cssHooks[a].get?s[a].start=n.cssHooks[a].get(t):a in e?s[a].start=c.getPropertyValue(a)||c[a]:s[a].start=t[a]||0,h=parseFloat(s[a].start),s[a].start=isNaN(h)?s[a].start:h},Object.assign(n,{easing:{linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},fx:{step:a},event:{special:i},fn:n.prototype,cssNumber:{opacity:!0},cssHooks:{},isReady:"loading"!=e.readyState,noop:function(){},q:function(t,s){return new n((s||e).querySelectorAll(t))},Event:function(t,e){var s=rb.events.Event(t,e);return(!s.isDefaultPrevented||s.isDefaultPrevented._deprecated)&&(s.isDefaultPrevented=function(){return s.defaultPrevented}),s},Callbacks:function(t){t&&rb.log("not supported: "+t);var e=[];return{add:function(t){e.push(t)},remove:function(t){var s=e.indexOf(t);-1!=s&&e.splice(s,1)},fire:function(){this.fireWith(this,arguments)},fireWith:function(t,s){var i,n;for(i=0,n=e.length;n>i;i++)e[i].apply(t,s)},has:function(){return!!e.length}}},css:function(t,e,s,i){var o,r;return n.cssHooks[e]&&n.cssHooks[e].get?o=n.cssHooks[e].get(t):(i=i||rb.getStyles(t,null),o=i.getPropertyValue(e)||i[e]),s&&(r=parseFloat(o),s!==!0&&isNaN(r)||(o=r||0)),o}}),Object.assign(r,{get:function(t){return arguments.length?this.elements[t]:this.elements},eq:function(t){return new n(this.elements[t]?[this.elements[t]]:[])},css:function(t){var e;return"string"==typeof t?(e=this.elements[0],e&&n.css(e,t)):(this.elements.forEach(function(e){var s,i=e.style;for(s in t)n.cssHooks[s]&&n.cssHooks[s].set?n.cssHooks[s].set(e,t[s]):i[s]=t[s]}),this)},prop:function(t){var e;return"string"==typeof t?(e=this.elements[0],e&&e[t]):(this.elements.forEach(function(e){var s;for(s in t)e[s]=t[s]}),this)},attr:function(t){var e;return"string"==typeof t?(e=this.elements[0],e&&e.getAttribute(t)):(this.elements.forEach(function(e){var s;for(s in t)e.setAttribute(s,t[s])}),this)},removeAttr:function(t){return this.elements.forEach(function(e){e.removeAttribute(t)}),this},is:function(t){return this.elements.some(function(e){return e.matches(t)})},html:function(t){var e,s;return arguments.length?(s="object"!=typeof t,this.elements.forEach(function(e){s?e.innerHTML=t:(e.innerHTML="",e.appendChild(t))}),this):(e=this.elements[0],e&&e.innerHTML||"")},before:function(t){var e="object"!=typeof t;return this.elements.forEach(function(s){var i;e?s.insertAdjacentHTML("beforebegin",t):(i=s.parentNode,i&&i.insertBefore(t,s))}),this},prepend:function(t){var e="object"!=typeof t;return this.elements.forEach(function(s){e?s.insertAdjacentHTML("afterbegin",t):s.insertBefore(t,s.firstChild)}),this},append:function(t){var e="object"!=typeof t;return this.elements.forEach(function(s){e?s.insertAdjacentHTML("beforeend",t):s.insertBefore(t,null)}),this},after:function(t){var e="object"!=typeof t;return this.elements.forEach(function(s){var i;e?s.insertAdjacentHTML("afterend",t):(i=s.parentNode,i&&i.insertBefore(t,s.nextElementSibling))}),this},each:function(t){return this.elements.forEach(function(e,s){t.call(e,s,e)}),this},remove:function(){return this.elements.forEach(function(t){var e=t.parentNode;e&&e.removeChild&&e.removeChild(t)}),this},trigger:function(t,e){var s;return"object"==typeof t&&(s=t,t=s.type),e||(e={}),null==e.bubbles&&(e.bubbles=!0),this.elements.forEach(function(i){var n=s||new CustomEvent(t,e);s=null,i.dispatchEvent(n)}),this},animate:function(t,e){var s=(!e||e.queue!==!1)&&n.queue,i=function(){l(this,t,e)};return this.elements.forEach(function(o){var r,a=e&&e.queue;s?(r=n.queue(o,a,i),1==r.length&&(n.queue(o,a,function(){n.dequeue(o,a)}),a&&"fx"!=a||n.dequeue(o,a))):l(o,t,e)}),this},stop:function(t,e){return this.elements.forEach(function(s){s._rbTweenStop&&s._rbTweenStop(t,e)}),this},index:function(t){return!t.nodeName&&t.get&&(t=t.get(0)),this.elements.indexOf(t)},add:function(t){return this.elements&&-1==this.elements.indexOf(t)&&this.elements.push(t),this}}),[["find","querySelectorAll",!0],["children","children"]].forEach(function(t,e){var s=!!t[2],i=!!t[2];r[t[0]]=function(e){var o=[];return this.elements.forEach(function(n,r){var a,l,h=i?n[t[1]](e):n[t[1]];for(a=0,l=h.length;l>a;a++)!s&&e&&!h[a].matches(e)||r&&-1!=o.indexOf(h[a])||o.push(h[a])}),new n(o)}}),[["closest","closest",!0,!1,!0],["next","nextElementSibling",!1,!0],["prev","previousElementSibling",!1,!0],["parent","parentNode"]].forEach(function(t){var e=!!t[2],s=!!t[3],i=!!t[4];r[t[0]]=function(o){var r=[];return this.elements.forEach(function(n,a){var l=i?n[t[1]](o):n[t[1]];!l||!e&&o&&!l.matches(o)||!s&&a&&-1!=r.indexOf(l)||r.push(l)}),new n(r)}}),[["prevAll","previousElementSibling"],["nextAll","nextElementSibling"],["parents","parentNode"]].forEach(function(t){r[t[0]]=function(e){var s=[];return this.elements.forEach(function(i,n){for(var o=i[t[1]];o&&1==o.nodeType;)e&&!o.matches(e)||n&&-1!=s.indexOf(o)||s.push(o),o=o[t[1]]}),new n(s)}}),r.detach=r.remove,["add","remove","toggle"].forEach(function(t){r[t+"Class"]=function(e){return this.elements.forEach(function(s){s.classList[t](e)}),this}}),["map","filter","not"].forEach(function(t){var e,s=t;(e="not"==t)&&(s="filter"),r[t]=function(t){var i,o=typeof t;return"function"!=o&&(i=t,this.length?"string"==o?t=function(){return this.matches(i)}:"object"==o&&(t=function(){return this==i}):t=n.noop),new n(this.elements[s](function(s,i){var n=t.call(s,i,s);return e?!n:n}))}}),[["on","addEventListener"],["off","removeEventListener"]].forEach(function(t){n.fn[t[0]]=function(e,s,i){var n;return"function"==typeof s&&(i=s,s=null),n=s?rb.events.proxies.delegate(i,s):i,this.elements.forEach(function(s){s[t[1]](e,n,!1)}),this}}),n.data=function(t,e,i){s||(s=rb.Symbol("_rb$data"));var n=t[s];return n||(n={},t[s]=n),void 0!==i&&(n[e]=i),e?n[e]:n},"onfocusin"in t&&"onfocusout"in t||[["focusin","focus"],["focusout","blur"]].forEach(function(t){i[t[0]]={setup:function(e,s,i){var o=function(e){i({type:t[0],target:e.target})};n.data(this,"_handler"+t[0],o),this.addEventListener(t[1],o,!0)},teardown:function(){var e=n.data(this,"_handler"+t[0]);e&&this.removeEventListener(t[1],e,!0)}}}),n.isReady||e.addEventListener("DOMContentLoaded",function(){n.isReady=!0}),t.rb||(t.rb={}),t.rb.$||(t.rb.$=n),n})},function(t,e){window.rb||(window.rb={}),function(){"use strict";var t=window.rb,e=/^"?'?"?/,s=/"?'?"?$/,i=/\\"/g,n=function(t){return(t||"").replace(e,"").replace(s,"").replace(i,'"')};t.jsonParse=function(t){var e=null;try{e=JSON.parse(t)}catch(s){}return e},t.parsePseudo=function(e,s){var i,o="string"==typeof e?e:t.getStyles(e,s||"::before").content;return i=t.jsonParse(n(o))},t.getStyles=function(e,s){var i=e.ownerDocument.defaultView;return i.opener||(i=window),i.getComputedStyle(e,s||null)||{getPropertyValue:t.$&&t.$.noop,isNull:!0}};var o={mqs:{},currentMQ:"",beforeMQ:""},r=function(){var e,s=document.documentElement,i=t.parsePseudo(s)||{},r=t.getStyles(s,"::after"),a="",l=function(){var e=r.content;a!=e&&(a=e,t.cssConfig.beforeMQ=t.cssConfig.currentMQ,t.cssConfig.currentMQ=n(a),t.$&&t.$.Callbacks&&t.cssConfig.mqChange.fireWith(t.cssConfig))},h=function(){var t=!1,e=function(){l(),e=!1};return function(){t||(t=!0,setTimeout(e,9))}}();Object.defineProperty(t,"cssConfig",{configurable:!0,enumerable:!0,writable:!0,value:Object.assign(o,i)}),Object.defineProperty(o,"mqChange",{configurable:!0,enumerable:!0,get:function(){return e||(t.resize.on(l),e=t.$.Callbacks()),e}}),document.addEventListener("DOMContentLoaded",h),window.addEventListener("load",h),l()};Object.defineProperty(t,"cssConfig",{configurable:!0,enumerable:!0,get:function(){return r(),o}})}()},function(t,e){window.rb||(window.rb={}),function(t,e,s){"use strict";var i=t.rb,n=/\s*?,\s*?|\s+?/g;i.$=i.$||t.jQuery||t.dom;var o=i.$;i.root=e.documentElement,i.$root=o(i.root),i.$win=o(t),i.$doc=o(e),i.templates={},i.statePrefix="is-",i.uitlPrefix="use-",i.changeState=function(t,e,s){t&&t.classList&&t.classList[s?"add":"remove"](i.statePrefix+e)},o.fn.rbSlideUp=function(t){if(t||(t={}),this.length){var e=Object.assign({},t,{always:function(){return this.style.display=t.display?"none":"",this.style.visibility="hidden",t.always?t.always.apply(this,arguments):void 0}});e.easing&&i.addEasing(e.easing),this.stop().css({overflow:"hidden",display:"block",visibility:"inherit"}).animate({height:0},e)}return this},o.fn.rbSlideDown=function(t){var e;return t||(t={}),this.length&&(e=Object.assign({},t,{always:function(){return this.style.overflow="",this.style.height="",t.always?t.always.apply(this,arguments):void 0}})),this.each(function(){var t,s=o(this),i=this.clientHeight+"px";s.css({overflow:"hidden",display:"block",height:"auto",visibility:"inherit"}),t=this.clientHeight,s.css({height:i}).animate({height:t},e)})},i.getScrollingElement=function(){var t=e.scrollingElement;return!t&&("BackCompat"==e.compatMode||"WebkitAppearance"in i.root.style)&&(t=e.body),t||i.root};var r=function(t){return t==this||t.contains(this)};i.contains=function(t,e){return Array.isArray(t)?t.find(r,e):r.call(e,t)?t:null},i.contains._contains=r,i.throttle=function(e,s){var n,o,r,a=0,l=t.Date,h=function(){n=!1,a=l.now(),e.apply(o,r)},c=function(){setTimeout(h)},u=function(){i.rAFQueue(c)};return s||(s={}),s.delay||(s.delay=200),s.write?c=h:s.read||(u=h),function(){if(!n){var t=s.delay;n=!0,o=s.that||this,r=arguments,s.unthrottle?h():(t&&!s.simple&&(t-=l.now()-a),0>t&&(t=0),setTimeout(u,t))}}};var a,l,h,c=i.root;i.resize=Object.assign(i.$.Callbacks(),{_setup:function(){h||(h=!0,(t.requestIdleCallback||setTimeout)(function(){a=innerWidth,l=c.clientHeight}),t.removeEventListener("resize",this._run),t.addEventListener("resize",this._run))},_teardown:function(){h&&!this.has()&&(h=!1,t.removeEventListener("resize",this._run))},on:function(t){this.add(t),this._setup()},off:function(t){this.remove(t),this._teardown()}}),i.resize._run=i.throttle(function(){(a!=innerWidth||l!=c.clientHeight)&&(a=innerWidth,l=c.clientHeight,this.fire())},{that:i.resize}),i.getCSSNumbers=function(t,e,s){var n,r,a=0,l=i.getStyles(t);for(Array.isArray(e)||(e=[e]),n=0;n<e.length;n++)r=o.css(t,e[n],!0,l),(!s||r>0)&&(a+=r);return a},i.camelCase=function(){var t=/-([\da-z])/gi,e=function(t,e){return e.toUpperCase()},s=function(s){return s.replace(t,e)};return s}(),i.parseValue=function(){var t=/^\-{0,1}\+{0,1}\d+?\.{0,1}\d*?$/,e=function(e){if("true"==e)e=!0;else if("false"==e)e=!1;else if("null"==e)e=null;else if(t.test(e))e=parseFloat(e);else if(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]"))try{e=JSON.parse(e)}catch(s){}return e};return e}(),i.rAFQueue=function(){var t,e,s=[],i=[],n=s,o=function(){for(e=n,n=s.length?i:s,t=!0;e.length;)e.shift()();t=!1};return function(s,i){i&&t?e.push(s):(n.push(s),1==n.length&&requestAnimationFrame(o))}}(),i.rAF=function(t,e){var s,n,o,r,a=[],l=function(){if(s=!1,e.throttle)t.apply(o,n);else for(;a.length;)n=a.shift(),t.apply(n[0],n[1])},h=function(){n=arguments,o=e.that||this,e.throttle||a.push([o,n]),s||(s=!0,i.rAFQueue(l,r))};return e||(e={}),r=!e.queue,t._rbUnrafedFn&&i.log("double rafed",t),h._rbUnrafedFn=t,h};var u=Array.prototype.slice;i.rAFs=function(t){var e,s=u.call(arguments);s.shift(),"object"==typeof s[0]&&(e=s.shift()),s.forEach(function(s){t[s]=i.rAF(t[s],e)})},o.fn.rbComponent=function(t,e){var n;return this.each(function(){n===s&&(n=i.getComponent(this,t,e))}),n===s?this:n};var p,d=function(t,e){var s=BezierEasing.css[t];o.easing[t]=s.get,e&&!o.easing[t]&&(o.easing[e]=o.easing[t])},f=function(){var e;if(!p&&t.BezierEasing&&o){p=!0;for(e in BezierEasing.css)d(e)}};i.addEasing=function(e,s){var n,r;if("string"==typeof e)return r=t.BezierEasing||i.BezierEasing,r&&!o.easing[e]&&!r.css[e]&&(n=e.match(/([0-9\.]+)/g))&&4==n.length&&(f(),n=n.map(function(t){return parseFloat(t)}),r.css[e]=r.apply(this,n),d(e,s)),o.easing[e]||(t.BezierEasing&&r.css[e]?d(e,s):o.easing[e]=o.easing.ease||o.easing.swing),o.easing[e]},f(),setTimeout(f),i.Symbol=t.Symbol;var m=Math.round(Date.now()*Math.random());i.getID=function(){return m+=Math.round(1e3*Math.random()),m.toString(36)},i.Symbol||(i.Symbol=function(t){return t=t||"_",t+i.getID()}),i.events={_init:function(){this.proxyKey=i.Symbol("_fnProxy")},Event:function(t,e){var s;return e||(e={}),null==e.bubbles&&(e.bubbles=!0),null==e.cancelable&&(e.cancelable=!0),s=new CustomEvent(t,e),s.isDefaultPrevented||(s.isDefaultPrevented=function(){return i.log("deprecated"),s.defaultPrevented},s.isDefaultPrevented._deprecated=!0),s},dispatch:function(t,e,s){var i=this.Event(e,s);return t.dispatchEvent(i),i},proxy:function(t,e,s,i){return i?(t[this.proxyKey]||(t[this.proxyKey]={}),t[this.proxyKey][e]||(t[this.proxyKey][e]={}),t[this.proxyKey][e][s]||(t[this.proxyKey][e][s]=i),void(t!=i&&this.proxy(i,e,s,i))):t[this.proxyKey]&&t[this.proxyKey][e]&&t[this.proxyKey][e][s]},proxies:{closest:function(t,e){var s=i.events.proxy(t,"closest",e);return s||(s=function(s){return s.delegatedTarget=s.target.closest(e),s.delegatedTarget?t.apply(this,arguments):void 0},i.events.proxy(t,"closest",e,s)),s},matches:function(t,e){var s=i.events.proxy(t,"matches",e);return s||(s=function(s){return s.target.matches(e)?(s.delegatedTarget=s.target,t.apply(this,arguments)):void 0},i.events.proxy(t,"matches",e,s)),s},keycodes:function(t,e){var s,o=i.events.proxy(t,"keycodes",e);return o||(o=function(i){return s||(s=e.trim().split(n).reduce(function(t,e){return t[e]=!0,t},{})),s[i.keyCode]?t.apply(this,arguments):void 0},i.events.proxy(t,"keycodes",e,o)),o}},applyProxies:function(t,e){var s;if(e)for(s in e)this.proxies[s]&&(t=this.proxies[s](t,e[s],e));return t},special:{}},i.events.proxies.delegate=i.events.proxies.closest,[["add","addEventListener"],["remove","removeEventListener"]].forEach(function(t){i.events[t[0]]=function(e,s,n,o){this.special[s]?(this.special[s].applyProxies&&(n=i.events.applyProxies(n,o)),this.special[s][t[0]](e,n,o)):(n=i.events.applyProxies(n,o),e[t[1]](s,n,!(!o||!o.capture)))}}),i.events._init();var g={add:function(t,e,s){return t[g.expando]||(t[g.expando]={width:t.offsetWidth,height:t.offsetHeight,cbs:o.Callbacks(),widthCbs:o.Callbacks(),heightCbs:o.Callbacks(),wasStatic:"static"==i.getStyles(t).position},this.addMarkup(t,t[g.expando])),s&&s.noWidth?t[g.expando].heightCbs.add(e):s&&s.noHeight?t[g.expando].widthCbs.add(e):t[g.expando].cbs.add(e),t[g.expando]},remove:function(t,e){t[g.expando]&&(t[g.expando].cbs.remove(e),t[g.expando].heightCbs.remove(e),t[g.expando].widthCbs.remove(e))},expando:i.Symbol("_elementResize"),addMarkup:i.rAF(function(t,s){var n,o,r,a,l,h,c,u=!0,p="position:absolute;top:0;left:0;display: block;",d=p+"bottom:0;right:0;",f=e.createElement("span"),m=function(){a.addEventListener("scroll",x),l.addEventListener("scroll",x)},v=function(){r&&t[g.expando].heightCbs.fire(s),o&&t[g.expando].widthCbs.fire(s),s.cbs.fire(s),r=!1,o=!1},b=function(){a.scrollLeft=s.exScrollLeft,a.scrollTop=s.exScrollTop,l.scrollLeft=s.shrinkScrollLeft,l.scrollTop=s.shrinkScrollTop,n&&v(),u&&(u=!1,m()),c=!1},y=i.rAF(function(){h.style.width=s.exChildWidth,h.style.height=s.exChildHeight,setTimeout(b,20)},{throttle:!0}),_=function(){s.exChildWidth=a.offsetWidth+9+"px",s.exChildHeight=a.offsetHeight+9+"px",s.exScrollLeft=a.scrollWidth,s.exScrollTop=a.scrollHeight,s.shrinkScrollLeft=l.scrollWidth,s.shrinkScrollTop=l.scrollHeight,y()},x=i.throttle(function(){if(!c){var e=t.offsetWidth,i=t.offsetHeight,a=e!=s.width,l=i!=s.height;n=l||a,n&&(o=a||o,r=l||r,s.height=i,s.width=e,c=o&&r,_())}});f.className="js-element-resize",f.setAttribute("style",d+"visibility:hidden;z-index: -1;opacity: 0;"),f.innerHTML='<span style="'+d+'overflow: scroll;"><span style="'+p+'"></span></span><span style="'+d+'overflow: scroll;"><span style="'+p+'width: 200%; height: 200%;"></span></span>',a=f.children[0],l=f.children[1],h=a.children[0],s.wasStatic&&(t.style.position="relative"),t.appendChild(f),setTimeout(_)})};o.fn.elementResize=function(t,e,s){return"remove"!=t&&(t="add"),this.each(function(){g[t](this,e,s)})},[["elemresize"],["elemresizewidth",{noHeight:!0}],["elemresizeheight",{noWidth:!0}]].forEach(function(t){i.events.special[t[0]]={add:function(e,s){g.add(e,s,t[1])},remove:function(e,s){g.remove(e,s,t[1])}}}),o.fn.closestFind=function(t){var e,s,i,r=this.get(0);return r&&(e=t.split(n),s=e.shift(),i=e.join(" "),r=r.closest(s),r&&(r=r.querySelector(i))),o(r||[])};var v=function(){var s="."+i.statePrefix+"clickarea",n="."+i.statePrefix+"clickarea-action",o="a[href], a[href] *, "+n+", "+n+" *",r=t.getSelection||function(){return{}},a=/^(?:input|select|textarea|button|a)$/i;e.addEventListener("click",function(e){if(!(e.defaultPrevented||a.test(e.target.nodeName||"")||e.target.matches(o))){var i,l,h=e.target.closest(s),c=h&&h.querySelector(n);if(c){if(l=r(),l.anchorNode&&!l.isCollapsed&&h.contains(l.anchorNode))return;t.MouseEvent&&c.dispatchEvent?(i=new MouseEvent("click",{cancelable:!0,bubbles:!0,shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey}),c.dispatchEvent(i)):c.click&&c.click()}}})};i.setFocus=function(){var t,s,n,o,r=[],a=/^(?:input|textarea)$/i,l={button:1,submit:1,reset:1,image:1,file:1},h=function(){for(var e=t.parentNode;e;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&r.push([e,e.scrollTop,e.scrollLeft]),e=e.parentNode;e=i.getScrollingElement(),r.push([e,e.scrollTop,e.scrollLeft])},c=function(){var t;for(t=0;t<r.length;t++)r[t][0].scrollTop=r[t][1],r[t][0].scrollLeft=r[t][2];r=[]},u=function(){n=!0},p=function(){t=null,s=0,n=!1,e.removeEventListener("focus",u,!0),o&&(clearTimeout(o),o=null)},d=function(){if(!t||n||s>9)p();else if("hidden"!=i.getStyles(t).visibility&&(t.offsetHeight||t.offsetWidth)){i.isScriptFocus=!0,i.$doc.trigger("rbscriptfocus"),h(),t.tabIndex<0&&!t.getAttribute("tabindex")&&t.setAttribute("tabindex","-1");try{t.focus()}catch(o){}c(),i.isScriptFocus=!1,p()}else 1==s&&e.addEventListener("focus",u,!0),s++,f(99)},f=function(s){t!==e.activeElement&&(o=setTimeout(d,s||4))};return function(s,i){s!==e.activeElement&&t!==s&&(p(),t=s,a.test(t.nodeName)&&!l[t.type]?d():f(i))}}();var b=function(){var t=!1,s=i.statePrefix+"focus-within",n="."+s,o=function(){var i,o,r,a,l=e.activeElement;if(l){for(o=[];l&&(l=l.parentNode)&&l.classList&&!l.classList.contains(s);)o.push(l);if(i=l.querySelectorAll&&l.querySelectorAll(n))for(r=0,a=i.length;a>r;r++)i[r].classList.remove(s);for(r=0,a=o.length;a>r;r++)o[r].classList.add(s)}t=!1},r=function(){t||(t=!0,i.rAFQueue(o,!0))};e.addEventListener("focus",r,!0),e.addEventListener("blur",r,!0),r()},y=function(){var s,n,o=!1,r=!1,a=i.root,l=i.statePrefix+"keyboardfocus",h=i.statePrefix+"keyboardfocus-within",c=function(){r=!1},u=function(){r=!0,clearTimeout(s),s=setTimeout(c,99)},p=function(){n&&n!=e.activeElement&&(n.classList.remove(l),n=null)},d=function(){n&&i.rAFQueue(p)},f=i.rAF(function(){o=!1,p(),a.classList.remove(h)},{throttle:!0}),m=function(){o&&f(),u()},g=i.rAF(function(){(!r||o)&&(n!=e.activeElement&&(p(),n=e.activeElement,n&&n.classList&&n.classList.add(l)),o||a.classList.add(h),o=!0)},{throttle:!0}),v=t.PointerEvent?["pointerdown","pointerup"]:["mousedown","mouseup","touchstart","touchend"];a.addEventListener("blur",d,!0),a.addEventListener("focus",g,!0),v.forEach(function(t){e.addEventListener(t,m,!0)}),e.addEventListener("click",u,!0),t.addEventListener("focus",u),e.addEventListener("focus",u),i.$doc.on("rbscriptfocus",u)},x=t.console||{},C=x.log&&x.log.bind?x.log:i.$.noop;i.addLog=function(t,e){var s=C.bind(x),n=i.$.noop;t.__isDebug=e,t.log=t.__isDebug?s:n,Object.defineProperty(t,"isDebug",{configurable:!0,enumerable:!0,get:function(){return this.__isDebug},set:function(t){this.__isDebug=!!t,this.log=this.__isDebug?s:n}})},i.addLog(i,!0);var w=[],P=function(){var t=function(t,e){var s,i,n,o;for(s=0,i=w.length;i>s;s++)if(n=t.getAttribute(w[s].attr),null!=n){o=!0,w[s].fn(t,e,n);break}o||t.classList.remove("js-click")};P=i.$.noop,e.addEventListener("keydown",function(e){var s=e.target;(40==e.keyCode||32==e.keyCode||13==e.keyCode)&&s.classList.contains("js-click")&&s.getAttribute("data-module")&&t(s,e)},!0),e.addEventListener("click",function(e){for(var s=e.target.closest(".js-click");s;)t(s,e),s=s.parentNode,s&&s.closest&&(s=s.closest(".js-click")),s&&!s.closest&&(s=null)},!0)};i.click={cbs:w,add:function(t,e){w.push({attr:"data-"+t,fn:e}),1==w.length&&P()}};var S=/:(\d)+\s*$/,E=/^\s*?\.?([a-z0-9_\$]+)\((.*?)\)\s*?/i;i.getElementsByString=function(t,s){var i,r,a,l,h,c;if(t){if((h=t.match(S))&&(t=t.replace(h[0],""),h=h[1]),c=t.match(E))"$"==c[1]||"sel"==c[1]?a=Array.from(e.querySelectorAll(c[2])):o.fn[c[1]]&&(c[2]||(c[2]=null),a=o(s)[c[1]](c[2]).get());else for(t=t.split(n),a=[],i=0,r=t.length;r>i;i++)l=t[i]&&e.getElementById(t[i]),l&&a.push(l);h&&a&&(a=a[h]?[a[h]]:[])}return a||[]},i.elementFromStr=i.getElementsByString;var O=Object.getOwnPropertyDescriptor;i.getPropertyDescriptor=function(t,e){var s,i=t;if(e in i)for(;i&&!(s=O(i,e));)i=Object.getPrototypeOf(i);return s};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},A=function(t){var e=function(e){return t[e]},s="(?:"+Object.keys(t).join("|")+")",i=new RegExp(s),n=new RegExp(s,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(n,e):t}};i.escape=A(k),t._||(t._={}),_.escape||(_.escape=i.escape),i["if"]=function(t,e,s){return t?e:s||""},i._uitilsInit=function(){v(),b(),y(),i._uitilsInit=i.$.noop}}(window,document),function(t,e){"use strict";var s,i,n,o,r={},a=[],l="js-rb-life",h="js-rb-attached",c=t.rb,u=c.$,p=c.Symbol("_rbComponent"),d=c.Symbol("_rbCreated"),f=c.root,m={},g={},v=function(t,e,s,i){Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:Object.assign({},s[i],e[i],t[i])}),e[i]&&Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:null})},b=function(){b=u.noop,c.click.add("module",function(t){c.getComponent(t)||c.log("js-click component not found",t),c.rAFQueue(function(){t.classList.remove("js-click"),t.classList.contains(h)||(t.classList.add(l),r.searchModules())},!0),o.run()})},y=function(){y=u.noop;var t=e.getElementsByClassName(h);c.checkCssCfgs=function(){var e,s,i,n=t.length;for(e=0;n>e;e++)s=t[e],i=s&&s[p],i&&i.parseOptions&&i._afterStyle&&i._afterStyle.content!=i._styleOptsStr&&i.parseOptions()},c.resize.on(c.checkCssCfgs)},_=function(){var s=function(){var t,e,s=0,i=function(){var n,o,a,h=Date.now();for(n=r._attached.length;n>s&&Date.now()-h<6;s++)a=r._attached[s],a&&(o=a[p])&&!f.contains(a)&&(a.classList.add(l),r.destroyComponent(o,s,a),s--,n--);e=n>s?setTimeout(i,40):!1,t=!1};return function(){t||(t=!0,s=0,e&&clearTimeout(e),setTimeout(i,99))}}(),n=function(t){var e,i,n=t.length;for(e=0;n>e;e++)i=t[e],i.addedNodes.length&&r.searchModules(),i.removedNodes.length&&s()};!i&&t.MutationObserver?new MutationObserver(n).observe(f,{subtree:!0,childList:!0}):(f.addEventListener("DOMNodeInserted",r.searchModules),e.addEventListener("DOMContentLoaded",r.searchModules),f.addEventListener("DOMNodeRemoved",function(){var t={addedNodes:[]},e=[t],s=function(){n(e),t.removedNodes=!1};return function(e){t.removedNodes||(t.removedNodes=[],setTimeout(s,9)),1==e.target.nodeType&&t.removedNodes.push(e.target)}}()))},x=function(){var t,e=[],s=function(){for(;e.length;)e.shift()();t=!1};return{run:s,add:function(t){e.push(t)},timedRun:function(){t||(t=!0,setTimeout(s))}}},C=function(){C=!1,c.cssConfig.statePrefix&&(c.statePrefix=c.cssConfig.statePrefix),c._uitilsInit(),_(),b(),y()};return c.life=r,r.autoStart=!0,r.expando=d,r.componentExpando=p,r._failed={},c.components={},r._attached=[],r.customElements=!1,r.init=function(t){return s?void c.log("only once"):(t&&(i=t.useMutationEvents||!1),t&&t.statePrefix&&(c.statePrefix=t.statePrefix),s=e.getElementsByClassName(l),o=x(),void r.searchModules())},r.register=function(t,e,i){var o=e.prototype,a=Object.getPrototypeOf(o),l=a.constructor;o instanceof c.Component&&(v(e,o,l,"defaults"),v(e,o,l,"events"),o.hasOwnProperty("name")||(o.name=t)),c.components[t]&&c.log(t+" already exists."),c.components[t]=e,"_"!=t.charAt(0)&&(i||(s||n?s&&r.searchModules():(n=!0,setTimeout(function(){!s&&r.autoStart&&u(function(){s||setTimeout(function(){s||r.init()})})},9))))},r.addImportHook=function(t,e){var s=function(s){g[s]&&c.log("overrides "+s+" import hook",t,e),g[s]=e};"function"==typeof t&&(e=t,t="*"),Array.isArray(t)?t.forEach(s):s(t)},r.create=function(t,e,s){var i;return(i=t[p])||(i=new e(t,s),t[p]=i),c.rAFQueue(function(){t.classList.add(h)},!0),!t[d]&&i&&(i.attached||i.detached)&&((i.attached||i.detached)&&(-1==r._attached.indexOf(t)&&r._attached.push(t),i.attached&&o.add(function(){i.attached()})),o.timedRun()),t[d]=!0,i._created=!0,i},r.deferConstruct=function(t,e,s,i){},r.searchModules=function(){var t=c.rAF(function(){for(;a.length;)a.shift().classList.remove(l)}),e=function(t,e){r._failed[e]=!0,a.push(t),c.log("failed",e,t)},i=c.throttle(function(){var n,l,h,u,p,f,v,b=s.length;if(C&&C(),b){for(f=Date.now(),u=0;b>u;u++)n=s[u],n[d]?a.push(n):(l=n.getAttribute("data-module")||"",h=l.split("/"),h=h[h.length-1],c.components[h]?r.deferConstruct(Date.now()-f,u,h,n)?v=!0:(r.create(n,c.components[h]),a.push(n)):r._failed[h]?e(n,h):(p=g[h]||g["*"])?m[l]||(m[l]=!0,p(h,l,function(t,s){return function(){e(t,s)}}(n,h),n)):e(n,h));t(),o.run(),v&&setTimeout(i,99)}},{delay:50});return i}(),r.destroyComponent=function(t,e,s){s||(s=t.element),null==e&&(e=r._attached.indexOf(s)),s.classList.remove(h),s[d]&&delete s[d],t.detached&&t.detached(s,t),r._attached.splice(e,1)},r}(window,document),function(){var t=window.rb,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,s=function(){};s.mixin=function(s,i,n){var o,r,a,l;arguments.length<3&&(n=i,i=s);for(o in n)if(r=Object.getOwnPropertyDescriptor(n,o)){l=o in i&&t.getPropertyDescriptor(i,o);for(a in r)l&&"function"==typeof r[a]&&"function"==typeof l[a]&&(e.test(r[a])&&(r[a]=function(t,e){return function(){var s=this._super;this._super=t;var i=e.apply(this,arguments);return this._super=s,i}}(l[a],r[a])),r[a]._supbase=l[a]);Object.defineProperty(s,o,r)}},s.extend=function(t){function e(){"init"in this&&this.init.apply(this,arguments)}var i=this.prototype,n=Object.create(i);return s.mixin(n,i,t),e.prototype=n,e.prototype.constructor=e,e.extend=this.extend||s.extend,e},t.Class=s}(),function(t,e,s,i){"use strict";var n=t.rb,o=n.$,r=s.componentExpando,a=/^data-/,l=/\s+(?=[^\)]*(?:\(|$))/g,h=/\{name}/g,c=/^(.+?)(\((.*)\))?$/,u=function(t){var e,s,i,o,r=t.constructor.events;for(e in r)s=t.interpolateName(e,!0),o=s.split(l),i=o.shift(),function(e,s,i){var o,r,a,l={},h=e.split(":"),u=h.shift().split(",");for(a=0;a<h.length;a++)(o=h[a].match(c))&&(l[o[1]]=o[3]||!0);for(s&&(l.delegate=s),r="string"==typeof i?function(e){return t[i].apply(t,arguments)}:function(){return i.apply(t,arguments)},a=0;a<u.length;a++)n.events.add(t.element,u[a],r,l)}(i,o.join(" "),r[e])};n.getComponent=function(t,e,i){var o=t&&t[r];return o||(n.components[e]||(e=(t.getAttribute("data-module")||"").split("/"),e=e[e.length-1]),n.components[e]&&(o=s.create(t,n.components[e],i))),o},s.getComponent=n.getComponent,n.Component=n.Class.extend({init:function(t,e){var s=this.name;this.element=t,this.$element=o(t),this.options={},this._afterStyle=n.getStyles(t,"::before"),this._initialDefaults=e,t[r]=this,this.parseOptions(this.options),
this.name=this.options.name||this.name,this.jsName=this.options.jsName||s,this._evtName=this.jsName+"changed",this._beforeEvtName=this.jsName+"change",this.templates=n.templates[this.name]||n.templates[s]||{},this.setOption("debug",null==this.options.debug?n.isDebug:this.options.debug),u(this)},defaults:{focusDelay:0},events:{},component:n.getComponent,getId:function(t){var e;return t||(t=this.element),(e=t.id)||(e="js-"+n.getID(),t.id=e),e},_trigger:function(t,e){var s;return"object"==typeof t&&(e=t,t=e.type),null==t?t=this._evtName:t.includes(this.jsName)||(t=this.jsName+t),s={detail:e||{}},e&&("bubbles"in e&&(s.bubbles=e.bubbles),"cancelable"in e&&(s.cancelable=e.cancelable)),n.events.dispatch(this.element,t,s)},getElementsByString:function(t,e){return n.getElementsByString(this.interpolateName(t),e||this.element)},setFocus:n.setFocus,getFocusElement:function(t){var e;return t&&t!==!0?1==t.nodeType?e=t:"string"==typeof t&&(e=n.elementFromStr(t,this.element)[0]):e=this.element.querySelector(".js-autofocus"),e||t!==!0&&!this.element.classList.contains("js-autofocus")||(e=this.element),e},setComponentFocus:function(t,e){var s;"number"==typeof t&&(e=t,t=null),s=t&&1==t.nodeType?t:this.getFocusElement(t),this.storeActiveElement(),s&&this.setFocus(s,e||this.options.focusDelay)},storeActiveElement:function(){var t=e.activeElement;return this._activeElement=t&&t.nodeName?t:null,this._activeElement},restoreFocus:function(t,s){var i=this._activeElement;i&&("number"==typeof t&&(s=t,t=null),this._activeElement=null,(!t||this.element==e.activeElement||this.element.contains(e.activeElement))&&this.setFocus(i,s||this.options.focusDelay))},interpolateName:function(t,e){return t.replace(h,e?this.jsName:this.name)},query:function(t,e){return(e||this.element).querySelector(this.interpolateName(t))},queryAll:function(t,e){return Array.from((e||this.element).querySelectorAll(this.interpolateName(t)))},parseOptions:function(t){var e=Object.assign(t||{},this.constructor.defaults,this._initialDefaults,this.parseCSSOptions(),this.parseHTMLOptions());this.setOptions(e)},setOptions:function(t){for(var e in t)t[e]!==this.options[e]&&this.setOption(e,t[e])},setOption:function(t,e){this.options[t]=e,"debug"==t&&e?this.isDebug=!0:("name"==t||"jsName"==t)&&n.log("don't change name after init.")},setChildOption:function(t,e,s){var i=function(t){var i=this&&this[r]||t[r]||t;i&&i.setOption&&i.setOption(e,s)};t.each?t.each(i):t.forEach?t.forEach(i):i(t)},render:function(t,e){return"object"==typeof t&&(e=t,t=""),e.name||(e.name=this.name),e.component||(e.component=this.component),this.templates[t]?this.templates[t](e):t||"function"!=typeof this.templates?"":this.templates(e)},parseHTMLOptions:function(t){t=t||this.element;var e,s,i=t.attributes,o=n.jsonParse(t.getAttribute("data-options"))||{},r=i.length;for(e=0;r>e;e++)s=i[e].nodeName,"data-options"!=s&&s.startsWith("data-")&&(o[n.camelCase(s.replace(a,""))]=n.parseValue(i[e].nodeValue));return o},parseCSSOptions:function(t){t==this.element&&(t=null);var e=(t?n.getStyles(t,"::before"):this._afterStyle).content||"";return(t||!this._styleOptsStr||e!=this._styleOptsStr)&&(t||(this._styleOptsStr=e),e=n.parsePseudo(e)),e||!1},destroy:function(){s.destroyComponent(this)},_super:function(){this.log("no _super")},log:function(){}}),n.Component.prototype.getElementsFromString=n.Component.prototype.getElementsByString,n.addLog(n.Component.prototype,!1),n.Component.extend=function(t,e,i){var o=n.Class.extend.call(this,e);return e.statics&&(Object.assign(o,e.statics),o.prototype.statics=null),s.register(t,o,i),o},n.Component.mixin=function(t,e){return e.defaults&&(t.defaults=Object.assign(t.defaults||{},e.defaults)),e.statics&&Object.assign(t,e.statics),e.events&&(t.events=Object.assign(t.events||{},e.events),e.events=null),n.Class.mixin(t.prototype,e),t}}(window,document,rb.life),function(t,e,s){"use strict";var i=t.rb;i.Component.extend("button",{defaults:{target:"",type:"toggle",args:null,switchedOff:!1},init:function(t,e){this._super(t,e),this._isFakeBtn=!this.element.matches("input, button"),this._resetPreventClick=this._resetPreventClick.bind(this),this._switchOff=i.rAF(this._switchOff,{throttle:!0}),this._switchOn=i.rAF(this._switchOn,{throttle:!0}),this._setTarget=i.rAF(this._setTarget,{throttle:!0}),this.setOption("args",this.options.args),this.options.switchedOff||this.setOption("switchedOff",!1)},events:{click:"_onClick",keydown:function(t){if(!this.options.switchedOff)if(40==t.keyCode&&"true"==this.element.getAttribute("aria-haspopup")){if(!this.panelComponent)return;this.panelComponent.isOpen?this.panelComponent.setComponentFocus():this._onClick(t),t.preventDefault()}else this._delegateFakeClick(t)},keyup:"_delegateFakeClick"},_delegateFakeClick:function(t){this.options.switchedOff||!this._isFakeBtn||32!=t.keyCode&&13!=t.keyCode||(t.preventDefault(),("keyup"==t.type&&32==t.keyCode||"keydown"==t.type&&13==t.keyCode)&&(this._onClick(t),this._preventClick=!0,setTimeout(this._resetPreventClick,33)))},_resetPreventClick:function(){this._preventClick=!1},_simpleFocus:function(){try{this.element!=e.activeElement&&this.element.focus()}catch(t){}},_onClick:function(t){var e;if(!(this.options.switchedOff||this._preventClick||this.element.disabled)){var s=this.getTarget(),i=s&&this.component(s);i&&(t&&this.options.preventDefault&&t.preventDefault&&t.preventDefault(),this.options.type in i&&(e=this.options.args,this._simpleFocus(),i.activeButtonComponent=this,"function"==typeof i[this.options.type]?i[this.options.type].apply(i,e):i[this.options.type]=e))}},setOption:function(t,e){var s;switch(this._super(t,e),t){case"target":s=i.elementFromStr(e,this.element)[0],s&&this.setTarget(s);break;case"args":null==e?e=[]:Array.isArray(e)||(e=[e]),this.options.args=e;break;case"switchedOff":e?this._switchOff():this._switchOn()}},_switchOff:function(){this._isFakeBtn&&(this.element.removeAttribute("role"),this.element.removeAttribute("tabindex"))},_switchOn:function(){this._isFakeBtn&&(this.element.setAttribute("role","button"),this.element.setAttribute("tabindex","0"))},_setTarget:function(){var t=this.getId(this.target);this._isTargeting=!1,this.element.removeAttribute("data-target"),this.$element.attr({"aria-controls":t}),this.targetAttr=t,this.options.target=t},setTarget:function(t){this.target=t,this._isTargeting=!0,this._setTarget()},getTarget:function(){var t=this._isTargeting?this.targetAttr:this.element.getAttribute("data-target")||this.$element.attr("aria-controls")||this.options.target;return this.target&&t==this.targetAttr||(this.targetAttr=t,this.target=i.elementFromStr(t,this.element)[0]),this.target}},!0)}(window,document)},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e():e()}(function(){"use strict";window.rb||(window.rb={});var t=window.rb;return t.createPubSub=function(e){var s={},i={};Object.assign(e,{pub:function(e,n,o){var r;3==arguments.length&&"boolean"!=typeof o&&(r=n,n=o,o=r),s[e]&&s[e].fireWith(n,[n]),o?i[e]=n:e in i&&t.log("memoize once, memoize always")},sub:function(e,n,o){var r;"function"==typeof o&&(r=n,n=o,o=r),s[e]||(s[e]=t.$.Callbacks()),s[e].add(n),o&&e in i&&n.call(i[e],i[e])},unsub:function(t,e){s[t]&&s[t].remove(e)}})},t.createPubSub(t),t.createPubSub})},function(t,e,s){t.exports=[s(7),s(8),s(9),s(10),s(12),s(14),s(17),s(18),s(15),s(19),s(20),s(21),s(22),s(24),s(25),s(26)]},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e():e()}(function(){"use strict";var t=window.rb,e=t.$,s=t.Symbol("_rbPseudoExpando"),i=t.Component.extend("_childfx",{defaults:{switchedOff:!1,childSel:"find(.{name}-fx)"},statics:{toNumber:function(t){return parseFloat(t)||0},regNumber:/(\d+[\.\d]*)/g,regWhite:/\s/g},init:function(e,s){this._super(e,s),this.progress=-2,this.updateChilds=t.rAF(this.updateChilds)},getCssValue:function(t,s,n,o){var r={},a=n.end[s];return"object"==typeof a&&(Object.assign(r,a),n.end[s]=a.value||0,"start"in a&&(r.value=a.start)),r.value=null!=r.value?r.value:e.css(t,s,1,o),"string"==typeof r.value&&"string"==typeof n.end[s]&&(r.template=r.value,r.value=(r.value.match(i.regNumber)||[0]).map(i.toNumber),n.end[s]=(n.end[s].match(i.regNumber)||[0]).map(i.toNumber)),r},setupChilds:function(){var e=this;this.childs=t.elementFromStr(this.options.childSel,this.element),this.childAnimations=this.childs.map(function(i){var n,o=t.getStyles(i),r={start:{},end:Object.assign({},e.parseCSSOptions(i),e.parseHTMLOptions(i)),from:0,to:1};i[s]=t.getStyles(i,"::after").content;for(n in r.end)"easing"==n?r.easing=t.addEasing(r.end[n]):"from"==n||"to"==n?r[n]=r.end[n]:r.start[n]=e.getCssValue(i,n,r,o);return r})},checkChildReflow:function(){var e=!1;return this.childs&&this.childs.length&&!this.options.switchedOff&&this.childs.forEach(function(i){e||i[s]==t.getStyles(i,"::after").content||(e=!0)}),e&&(this.updateChilds._rbUnrafedFn(!0),this.progress=-2),e},updateChilds:function(t){var s,n,o,r,a,l,h,c,u,p,d,f,m;if(t=t===!0,!this.childs||!this.childAnimations){if(t)return;this.setupChilds()}for(n=0,o=this.childs.length;o>n;n++){a=this.childs[n],r=this.childAnimations[n],m=this.progress,l=a.style,t||(r.from>m?m=0:r.to<m?m=1:(r.to<1||r.from>0)&&(m-=r.from,m*=1/(1-(1-r.to)-r.from)),s=r.easing?r.easing(m):m);for(h in r.start)u=r.start[h],c=u.value,t||((p=u.template)?(d=0,f||(f=function(){var t=(r.end[h][d]-u.value[d])*s+u.value[d];return d++,"backgroundColor"==h&&(t=Math.round(t)),t}),c=u.template.replace(i.regNumber,f)):c=(r.end[h]-u.value)*s+u.value),h in l?(p||e.cssNumber[h]||(c+="px"),l[h]=t?"":c):a[h]=c}t&&(this.childs=null,this.childAnimations=null)}});return i})},function(t,e){!function(){"use strict";var t=window.rb;t.$;t.Component.extend("dateinput",{defaults:{debug:!0},init:function(t,e){this._super(t,e),this.log(this.element,this.$element,this.options,this)},events:{},statics:{},setOption:function(t,e){this._super(t,e)}})}()},function(t,e){!function(){"use strict";var t=window.rb;t.$,t.Component.extend("datepicker",{defaults:{debug:!0,value:null,multiple:!1,range:!1,max:NaN,min:NaN},init:function(e,s){this._super(e,s),this._values=[],this.valueData={},this.formats=window.rb.i18n.formats.de,t.rAFs(this,{throttle:!0},"renderWrapper","renderMonth"),this.renderWrapper(),this.renderMonth(new Date)},events:{"click .{name}-btn-prev":"previous","click .{name}-btn-next":"next"},statics:{views:{0:"Month",1:"Year",2:"Decade"}},getPreviousMonth:function(t){return 1==t.month?t.year-1+"-12":t.year+"-"+(t.month-1)},getNextMonth:function(t){return 12==t.month?t.year+1+"-01":t.year+"-"+(t.month+1)},previous:function(){this.renderMonth(this.getPreviousMonth(this.selectedDate))},next:function(){this.renderMonth(this.getNextMonth(this.selectedDate))},get value(){},set value(t){},setOption:function(t,e){this._super(t,e)},getDate:function(t){var e;return e=[t.getFullYear(),t.getMonth()+1,t.getDate()],{dateArray:e,yearNumber:e[0],monthNumber:1*(e[0]+""+e[1]),dateNumber:1*e.join(""),year:e[0],month:e[1],date:e[2],day:t.getDay()}},renderWrapper:function(){var t=this.render("wrapper",{formats:this.formats});this.element.innerHTML=t,this.mainElement=this.query(".{name}-main"),this.headerElement=this.query(".{name}-btn-header")},renderMonth:function(t){t.getFullYear||(t=new Date(t));var e=this.getDate(t),s={title:this.formats.monthNames[e.month-1]+" "+e.year,formats:this.formats,body:this.getMonthData(t,e),selected:e},i=this.render("month",s);this.selectedDate=e,this.headerElement.innerHTML=s.title,this.mainElement.innerHTML=i},getMonthData:function(t,e){var s,i,n,o,r,a=[];for(t.setDate(1),o=t.getDay(),o!=this.formats.firstDay&&(s=o-this.formats.firstDay,0>s&&(s+=7),t.setDate(t.getDate()-s)),i=0;50>i;i++){if(r=this.getDate(t),r.otherMonth=r.monthNumber!=e.monthNumber,!(i%7)){if(a.length>5&&r.otherMonth&&(r.yearNumber>e.yearNumber||r.monthNumber>e.monthNumber&&r.yearNumber==e.yearNumber))break;n=[],a.push(n)}n.push(r),t.setDate(t.getDate()+1)}return a}})}()},function(t,e,s){!function(e){"object"==typeof t&&t.exports?(s(11),t.exports=e()):e()}(function(){"use strict";var t=window.rb,e=t.$,s=/^(?:input|textarea)$/i,i=t.Component.extend("dialog",{defaults:{open:!1,closeOnEsc:!0,closeOnBackdropClick:!0,appendToBody:!0,contentId:"",backdropClass:"",setDisplay:!0,scrollPadding:"paddingRight"},init:function(s,i){this._super(s,i),this.isOpen=!1,this.$backdrop=e(document.createElement("div")).addClass(this.name+"-backdrop"),this.contentElement=this.query(".{name}-content"),t.rAFs(this,{that:this,throttle:!0},"_setup","_addContent","_setDisplay"),t.rAFs(this,{throttle:!0},"_open","_close"),this.options.open?this._setup():setTimeout(this._setup,99+999*Math.random())},events:{"click .{name}-close":function(t){this.close(),t.preventDefault(),t.stopPropagation()}},_setup:function(){if(!this.isReady&&this.element.parentNode){var t,s,i=this.element.parentNode,n=this.name+"-backdrop-document";this.isReady=!0,i&&i.classList.contains(n)?i&&(t=i.parentNode)&&t.classList.contains(this.name+"-backdrop")&&(this.$backdrop=e(t),s=!0):(i=document.createElement("div"),i.className=n,this.$backdrop.append(i)),this.backdropDocument=i,this.options.backdropClass&&this.$backdrop.addClass(this.options.backdropClass),this.options.appendToBody?document.body.appendChild(this.$backdrop.get(0)):s||this.$element.before(this.$backdrop.get(0)),s||i.appendChild(this.element),this.element.getAttribute("tabindex")||this.element.setAttribute("tabindex","-1"),this.element.getAttribute("role")||this.element.setAttribute("role","group"),this._setUpEvents(),this.options.open?this.open():this.options.setDisplay&&this.$backdrop.css({display:"none"})}},_open:function(e){var s;this.contentElement&&e&&e.contentId&&this._curContentId!=e.contentId&&(s=document.getElementById(e.contentId))&&(this._curContentId=e.contentId,this.contentElement.innerHTML=s.innerHTML),this._xhr&&(this.contentElement.innerHTML="",this.$backdrop.addClass(t.statePrefix+"loading")),this.$backdrop.css({display:"block"}),this.$backdrop.addClass(t.statePrefix+"open"),t.$root.addClass(t.statePrefix+"open-"+this.name+"-within"),this._setScrollPadding&&this.options.scrollPadding&&(document.body.style[this.options.scrollPadding]=this._setScrollPadding+"px"),e.focusElement?this.setComponentFocus(e.focusElement):this.storeActiveElement(),this._trigger(e)},open:function(e){var i;return this.isOpen||this._trigger(this._beforeEvtName,e).defaultPrevented?!1:(this.isReady||this._setup(),this.isOpen=!0,e||(e={}),e.focusElement||(e.focusElement=this.getFocusElement(!0)),e.contentUrl&&(this._xhr=t.fetch({url:e.contentUrl}).then(this._addContent)),this.options.setDisplay&&this._displayTimer&&(clearTimeout(this._displayTimer),this._displayTimer=null),this._setScrollPadding=this.options.scrollPadding&&t.root.clientHeight+1<t.root.scrollHeight&&(i=t.scrollbarWidth)&&parseFloat(t.getStyles(document.body)[this.options.scrollPadding])+i,this._setScrollPadding&&(this._oldPaddingValue=document.body.style[this.options.scrollPadding]),!this.options.setDisplay&&e.focusElement&&s.test(e.focusElement.nodeName)?this._open._rbUnrafedFn.call(this,e):this._open(e),!0)},_close:function(e){this.restoreFocus(!0),this._setScrollPadding&&null!=this._oldPaddingValue&&(document.body.style[this.options.scrollPadding]=this._oldPaddingValue,this._setScrollPadding=0,this._oldPaddingValue=null),this.$backdrop.removeClass(t.statePrefix+"open"),t.$root.removeClass(t.statePrefix+"open-"+this.name+"-within"),this.options.setDisplay&&(clearTimeout(this._displayTimer),this._displayTimer=setTimeout(this._setDisplay,2e3)),this._trigger(e)},close:function(t){return!this.isOpen||this._trigger(this._beforeEvtName,t).defaultPrevented?!1:(this.isOpen=!1,this._xhr=null,this._close(t),!0)},toggle:function(t){this[this.isOpen?"close":"open"](t)},_addContent:function(e){this._xhr&&this.contentElement&&(this.contentElement.innerHTML=e.data),this.$backdrop.removeClass(t.statePrefix+"loading"),this._xhr=null},_setDisplay:function(){this.$backdrop.css({display:this.isOpen?"block":"none"}),this._displayTimer=null},_setUpEvents:function(){var t=this;this.$backdrop.on("click",function(e){!t.options.closeOnBackdropClick||e.target!=e.currentTarget&&e.target!=t.backdropDocument||(t.close(),e.preventDefault(),e.stopPropagation())}),this.$backdrop.on("keydown",function(e){27==e.keyCode&&t.options.closeOnEsc&&!e.defaultPrevented&&(t.close(),e.preventDefault(),e.stopPropagation())})}});return t.click.add("dialog",function(e,s,i){var n,o=t.jsonParse(i);"string"==typeof o&&(o={id:o}),n=document.getElementById(o.id),n&&(n=t.getComponent(n))&&(n.open(o),s.preventDefault())}),i})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e():e()}(function(){"use strict";var t,e,s,i,n=window.rb,o=n.$||window.jQuery,r=function(){null==i&&(i=s.offsetWidth-s.clientWidth,n.rAFQueue(function(){s.remove()}))},a=function(){e||(e=!0,(document.body||n.root).appendChild(s),(window.requestIdleCallback||setTimeout)(r))},l=function(){return null==i&&(h(),a(),r()),i},h=function(){t||(t=!0,s=document.createElement("div"),o(s).css({width:"99px",height:"99px",overflow:"scroll",position:"absolute",visibility:"hidden",top:"0px",left:"0px",zIndex:"-1"}),n.rAFQueue(a))};return window.requestIdleCallback?requestIdleCallback(h):h(),Object.defineProperty(n,"scrollbarWidth",{get:l,enumerable:!0,configurable:!0}),l})},function(t,e,s){!function(e){"object"==typeof t&&t.exports?(s(13),t.exports=e()):e()}(function(){"use strict";var t=rb.$,e=/</g,s=/>/g,i={valid:"is-valid",invalid:"is-invalid",errorBox:"form-errorbox"},n=n||setTimeout,o=window.rbValidation||{};return o.messages||(o.messages={}),o.messages[""]||(o.messages[""]={}),o.getMessage=function(t,e){var s,i=t.getAttribute("type")||t.type,n=t._rbCustomMessages;return e=e||o.getErrorType(t),n?s=n[e]||n.defaultMessage:(s=o.messages[""][e]||o.messages[""].defaultMessage,"object"==typeof s&&(s=s[i]||s[t.localName]||s.defaultMessage)),s&&"object"!=typeof s||(s=t.validationMessage),o.formatMessage(t,s||"")},o.formatMessage=function(t,i){var n=t.title;return i='<span class="js-errormessage-content"> '+i+" </span>",n&&(n='<span class="js-titlevalue">'+n.replace(e,"&lt;").replace(s,"&gt;")+"</span>"),-1!=i.indexOf("{%title}")?i=i.replace("{%title}",n):n&&(i=i+" "+n),i&&-1!=i.indexOf("{%")&&["value","min","max","maxlength","minlength","label"].forEach(function(n){if(-1!==i.indexOf("{%"+n)){var o=("label"==n?((t.form||document).querySelector('label[for="'+t.id+'"]').textContent||"").replace(/\*$|:$/,""):t[n]||t.getAttribute(n)||"")||"";o=""+o,i=i.replace("{%"+n+"}",o.replace(e,"&lt;").replace(s,"&gt;")),"value"==n&&(i=i.replace("{%valueLen}",o.length))}}),i},o.getErrorType=function(t){var e,s="",i=t.validity;for(e in i)"valid"!=e&&i[e]===!0&&(s="badInput"==e?"typeMismatch":e);return s},o.rules||(o.rules={}),o.evalCustomRule=function(t,e,s,i){var n=function(){e._customRulePromise=new Promise(function(n){o.rules[t](e,s,i,function(s){e._customRulePromise&&delete e._customRulePromise,s?(e.setCustomValidity(s),e._rbCurrentFailedRule=t,n(s)):(e._rbCurrentFailedRule==t&&(delete e._rbCurrentFailedRule,e.setCustomValidity("")),n())})})};e._customRulePromise?e._customRulePromise.then(function(t){t?e._customRulePromise&&delete e._customRulePromise:n()}):n()},o.runCustomRules=function(t){var e=t.value,s=function(s){var i,n;if(!s&&t.validity.valid)for(i in o.rules)n=t.getAttribute(i),null!=n&&o.evalCustomRule(i,t,e,n)};return t._rbCurrentFailedRule&&o.evalCustomRule(t._rbCurrentFailedRule,t,e,t.getAttribute(t._rbCurrentFailedRule)),t._customRulePromise?t._customRulePromise.then(s):s(),new Promise(function(e){var s,i=function(){t._customRulePromise&&s!=t._customRulePromise?(s=t._customRulePromise,t._customRulePromise.then(i)):(t._customRulePromise&&delete t._customRulePromise,e())};i()})},o.component=rb.Component.extend("validate",{defaults:{scrollEasing:"ease-in",scrollDuration:400,animateError:!0},init:function(e){this._super(e),this.$element=t(e),this.element.checkValidity&&(this.updateValidity(),this.setup())},setup:function(){var t=this,e={range:1,date:1,number:1},s=function(e,s){e.willValidate&&"submit"!=e.type&&!e._isSettingValidate&&(e._isSettingValidate=!0,n(function(){t[s](e),e._isSettingValidate&&delete e._isSettingValidate}))},i=function(t){s(t.target,"setState")},o=function(t){s(t.target,"updateState")};this.$element.attr({novalidate:""}).on("focusout","input, select, textarea",o).on("invalid",i).on("change","input, select, textarea",function(t){e[t.target.type]||o(t)}),this.element.addEventListener("submit",function(e){var s=t.$element.find("input:invalid, select:invalid, textarea:invalid");s.length&&(e.preventDefault(),e.stopImmediatePropagation()),s.each(function(e){t.setState(this,0===e)})},!0)},getWrapperBox:function(e){for(var s=e.parentNode;s&&s.matches("span, p, label, .js-validation-group *");)s=s.parentNode;return t(s)},hasContent:function(t){var e=!0;return t.each(function(){e&&this.willValidate&&("checkbox"==this.type||"radio"==this.type||this.value||(e=!1))}),e},updateValidity:function(t){t?o.runCustomRules(t):this.$element.find("input, select, textarea").each(function(){o.runCustomRules(this)})},updateState:function(t){var e=this;o.runCustomRules(t).then(function(){e.setState(t)})},setState:function(t,e){var s=this.getWrapperBox(t),i=s.find("input, select, textarea"),n=i.filter(":invalid");n.length?this.setInvalid(s,n):this.hasContent(i)?this.setValid(s,i):this.resetState(s,i),e&&s.scrollIntoView({focus:n.get(0)||i.get(0),duration:this.options.scrollDuration,easing:this.options.scrollEasing})},getErrorType:function(t){return o.getErrorType(t.get(0))},getErrorBox:function(t){var e=t.get(0)._rbErrorBox;return e||(e=t.find("."+i.errorBox),e.length||(t.append('<div class="'+i.errorBox+'"></div>'),e=t.find("."+i.errorBox)),t.get(0)._rbErrorBox=e),e},getErrorMessage:function(t,e){return o.getMessage(t.get(0),e)},resetState:function(t,e){this.options.animateError&&t.is("."+i.invalid)&&this.getErrorBox(t).rbSlideUp(t),t.removeAttr("data-validitystate").removeClass(i.invalid).removeClass(i.valid)},setInvalid:function(t,e){var s,n=this.getErrorType(e),o=t.attr("data-validitystate");n!=o&&(s=this.getErrorBox(t),s.html('<p class="form-errormessage">'+this.getErrorMessage(e,n)+"</p>"),this.options.animateError&&s.rbSlideDown(),t.attr({"data-validitystate":n}).removeClass(i.valid).addClass(i.invalid))},setValid:function(t,e){this.resetState(t,e),t.addClass(i.valid)}}),window.rb.validation=o,o})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e():e()}(function(){"use strict";var t=/^#/,e=rb.$||window.jQuery;return e.fn.scrollIntoView=function(s){var i,n,o,r,a,l,h=this.get(0);return h&&(s=s||{},i=h.getBoundingClientRect(),n=Math.max(Math.abs(i.top),Math.abs(i.left)),o=s.scrollingElement||rb.getScrollingElement(),l={scrollTop:i.top+(s.offsetTop||0),scrollLeft:i.left+(s.offsetLeft||0)},(!s.scrollingElement||s.scrollingElement.contains(h))&&(l.scrollTop+=o.scrollTop,l.scrollLeft+=o.scrollLeft),s.easing&&rb.addEasing(s.easing),s.duration||(s.duration=Math.min(s.durationMax||700,(s.durationBase||350)+n*(s.durationMultiplier||.2))),r=Object.assign({},s,{always:function(){var e,i,n;s.forcePosition&&(e=o.scrollTop,i=o.scrollLeft),(a=s.focus)&&("string"==typeof a&&(a=t.test(a)?document.querySelector(a):document.getElementById(a)),a&&rb.setFocus(a)),s.hash&&(n="string"==typeof s.hash?s.hash:h.id||h.name,n&&(location.hash=n)),s.forcePosition&&(o.scrollTop=e,o.scrollLeft=i),s.always&&s.always.call(h)}}),e(o).animate(l,r)),this},e.fn.scrollIntoView})},function(t,e,s){!function(e){"object"==typeof t&&t.exports?(s(15),t.exports=e()):e()}(function(){"use strict";var t=window.rb,e=t.$,s=t.Component.mixin(t.components.itemscroller,{defaults:{paginationFor:""},init:function(e,s){this._super(e,s),this.updateScrollerAsPagination=t.rAF(this.updateScrollerAsPagination,{that:this}),this.options.paginationFor&&this.setOption("paginationFor",this.options.paginationFor)},events:{"click .{name}-cell":function(t){this.groupedMainComponent&&(this.groupedMainComponent.selectedIndex=this.$cells.index(t.delegatedTarget||t.currentTarget))}},setOption:function(t,e){this._super(t,e),"paginationFor"==t&&(e?this._setupScrollerAsPagination():this._teardownScrollerAsPagination())},updateScrollerAsPagination:function(){var e,s=this.groupedMainComponent.selectedIndex;this.$cells&&this.$cells.length&&(this.$cells.removeClass(t.statePrefix+"selected-pagination"),e=this.$cells.eq(s).addClass(t.statePrefix+"selected-pagination").get(0),this.isCellVisible(e)!==!0&&this.selectCell(s))},_setupScrollerAsPagination:function(){this._teardownScrollerAsPagination();var s=this.options.paginationFor;s&&(this.groupedMainElement=t.elementFromStr(s,this.element)[0]||null,this.groupedMainElement&&(this.groupedMainComponent=this.component(this.groupedMainElement),this.groupedMainComponent&&(e(this.groupedMainElement).on(this.groupedMainComponent._evtName,this.updateScrollerAsPagination),this.updateScrollerAsPagination())))},_teardownScrollerAsPagination:function(){this.groupedMainComponent&&this.groupedMainElement&&(e(this.groupedMainElement).off(this.groupedMainComponent._evtName,this.updateScrollerAsPagination),this.groupedMainComponent=null,this.groupedMainElement=null)}});return s})},function(t,e,s){!function(e){"object"==typeof t&&t.exports?(s(16),t.exports=e()):e()}(function(){"use strict";var t=window.rb,e=t.$,s=/\{index}/g,i=window.CSS&&CSS.supports&&CSS.supports("(transform: translate3d(0,0,0))"),n=t.Component.extend("itemscroller",{defaults:{switchedOff:!1,centerMode:!1,selectedIndex:0,scrollStep:"auto",mouseDrag:!0,easing:"0.1, 0.25, 0.1, 1.03",duration:600,paginationItemTpl:'<span class="{name}-pagination-btn"></span>',useTransform:!0,carousel:!1,mandatorySnap:!1},init:function(s,n){this._super(s,n),this.usesTransform=this.options.useTransform&&i,this._pos=0,this._selectedIndex=this.options.selectedIndex,this.options.paginationItemTpl=this.interpolateName(this.options.paginationItemTpl),this.$scroller=this.$element.find("."+this.name+"-content"),this.scroller=this.$scroller.get(0),this.viewport=this.query(".{name}-viewport"),this.$pagination=e(this.query(".{name}-pagination")),this.$pageLength=e(this.query(".{name}-page-length")),this.$currentIndex=e(this.query(".{name}-current-index")),this.$paginationBtns=e([]),this.onslide=e.Callbacks(),this.setOption("easing",this.options.easing),this.setOption("duration",this.options.duration),this.calculateLayout=this.calculateLayout.bind(this),this.throttledCalculateLayout=t.throttle(this.calculateLayout),this.reflow=this.throttledCalculateLayout,this.setPos=t.rAF(this._setPos,{that:this,throttle:!0}),t.rAFs(this,{throttle:!0},"_writeLayout","_createPagination","_switchOff","setSwitchedOffClass"),this._slideProgress=this._slideProgress.bind(this),this._slideComplete=this._slideComplete.bind(this),this._setupEvents(),this.options.switchedOff?this.setSwitchedOffClass():this.setOption("switchedOff",!1)},events:{"click .{name}-btn-next":function(){this.options.switchedOff||(this.isCarousel?this.selectNext():this.selectNextIndex())},"click .{name}-btn-prev":function(){this.options.switchedOff||(this.isCarousel?this.selectPrev():this.selectPrevIndex())},"click .{name}-pagination-btn":function(t){if(!this.options.switchedOff){var e=this.$paginationBtns.index(t.delegatedTarget||t.currentTarget);this.selectedIndex=e}},elemresizewidth:"calculateLayout"},setOption:function(e,s){switch(this._super(e,s),e){case"centerMode":case"scrollStep":case"carousel":this._calculatePages(),this._writeLayout(),"carousel"==e&&s&&this.$element.find("."+this.name+"-btn-next, ."+this.name+"-btn-prev").prop({disabled:!1}).removeClass(t.statePrefix+"disabled");break;case"easing":this.easing=t.addEasing(s);break;case"duration":this.duration=s,this.maxDuration=1.2*s,this.minDuration=s/1.2;break;case"switchedOff":s?this._switchOff():this._switchOn()}},get selectedIndex(){return this._selectedIndex},set selectedIndex(t){this.selectIndex(t)},_switchOff:function(){e.fn.draggy&&e(this.viewport).draggy("destroy"),this.$cells.css({left:"",position:""}).removeClass(t.statePrefix+"active-done").removeClass(t.statePrefix+"active").removeClass(t.statePrefix+"activated-done").removeClass(t.statePrefix+"activated"),this.$scroller.css({position:"","padding-left":"","padding-right":"",left:"",transform:"","min-height":""}),e(this.viewport).css({position:"","border-left-width":"","border-right-width":"","border-left-style":"","border-right-style":"",overflow:"",height:""}),this.setSwitchedOffClass()},setSwitchedOffClass:function(){this.element.classList[this.options.switchedOff?"add":"remove"](t.statePrefix+"switched-off")},_switchOn:function(){this._mainSetup(),this.updateCells(),this._setupTouch(),this.setSwitchedOffClass()},_mainSetup:function(){var s=this;t.rAFQueue(function(){var t={visibility:"hidden",position:"absolute","z-index":-1};s.scrollerClone&&s.viewportClone||(s.scrollerClone=s.scroller.cloneNode(),s.viewportClone=s.viewport.cloneNode(),e(s.scrollerClone).css(t),e(s.viewportClone).css(t).addClass("js-size-shadow"),s.viewportClone.appendChild(s.scrollerClone),e(s.viewport).after(s.viewportClone)),s.$scroller.css({position:"relative","padding-left":"0px","padding-right":"0px"}),e(s.viewport).css({position:"relative",overflow:"hidden","border-left-color":"transparent","border-right-color":"transparent","border-left-style":"solid","border-right-style":"solid"}),s._updateControls(),s._slideComplete()},!0)},_setupEvents:function(){this.element.addEventListener("load",this.throttledCalculateLayout,!0),this._setupFocusScroll()},_setupFocusScroll:function(){var e=this,s="."+this.name+"-cell",i=!1,n=function(){e.viewport.scrollLeft=0},o=function(o){var r,a,l;if(!e.options.switchedOff){if(!i){if("focus"==o.type){if(l=o.target,!t.root.classList.contains(t.statePrefix+"keyboardfocus-within"))return}else l=document.activeElement;if(!l||!l.closest)return;r=l.closest(s),r&&e.isCellVisible(r)!==!0&&(a=e.getPageIndexOfCell(r),a!=e._selectedIndex&&(e.selectedIndex=a))}setTimeout(n),n()}},r=function(){i=!1},a=function(){i||(i=!0,setTimeout(r,99))};this.scroller.addEventListener("mousedown",a,!0),this.scroller.addEventListener("touchstart",a,!0),this.scroller.addEventListener("touchend",a,!0),this.scroller.addEventListener("click",a,!0),this.scroller.addEventListener("focus",o,!0),this.viewport.addEventListener("scroll",o)},_snapTo:function(t,e,s){var i,n=e+Math.abs(t);s=Math.abs(s),t&&(n>33||n>9&&s>99||n>3&&s>200)?(e>240&&!this.options.mandatorySnap&&s>99?(e=(e-230)/250*this.velUnit,0>t&&(e*=-1)):e=0,i=this[0>t?"getNext":"getPrev"](e),this.selectIndex(i)):this.selectNearest()},getNearest:function(){var t,e,s=Number.MAX_VALUE,i=0,n={prev:this.getPrev()+this.baseIndex,next:this.getNext()+this.baseIndex};n.next-n.prev>1&&(n.cur=n.next-1);for(t in n)e=Math.abs(this._pos-this._getPosition(n[t])),s>e&&(s=e,i=n[t]);return i-this.baseIndex},selectNearest:function(t){return this.selectIndex(this.getNearest(),t)},_getPosition:function(t){var e=this.viewportWidth/2,s=this.pageData[t],i=s.l;return this.options.centerMode?i=e+-1*i-(s.r-i)/2:i*=-1,i||0},getNext:function(t){var e,s,i,n=-1*(this._pos+(t||0))+1,o=this.pageData.length-1;for(e=0,s=o+1;s>e;e++)if(i=-1*this._getPosition(e),i>n){o=e;break}return o-this.baseIndex},selectNext:function(t){return this.selectIndex(this.getNext(),t)},getPrev:function(t){for(var e,s=-1*(this._pos+(t||0))-1,i=0,n=this.pageData.length-1;n>=0;){if(e=-1*this._getPosition(n),s>e){i=n;break}n--}return i-this.baseIndex},selectPrev:function(t){return this.selectIndex(this.getPrev(),t)},getPageIndexOfCell:function(t){"number"!=typeof t&&(t=this.$cells.index(t));var e=this.cellData[t];return e?e[e.isSide?"uIndex":"pageIndex"]:-1},selectCell:function(t,e){this.selectIndex(this.getPageIndexOfCell(t),e)},isCellVisible:function(t){var e,s,i,n,o=!1,r=-1*this._pos,a=r+this.viewportWidth,l=r,h=a;return"number"!=typeof t&&(t=this.$cells.index(t)),e=this.cellData[t],e&&(n=.6*t+1,r-=n,a+=n,l+=n,h-=n,s=e.isSide?e.ul:e.l,i=e.isSide?e.ur:e.r,
s>=r&&a>=i?o=!0:(s>=l&&h>=s||i>=l&&h>=i)&&(o="partial")),o},_slideProgress:function(t,e){this._setPos((this._animEnd-this._animStart)*this.easing(e)+this._animStart)},_slideComplete:function(){var s=this.pageData[this._selectedIndex+this.baseIndex];this.isAnimated=!1,this.$cells.removeClass(t.statePrefix+"active-done"),s&&(s.$cellElems||(s.$cellElems=e(s.cellElems))).addClass(t.statePrefix+"active-done").addClass(t.statePrefix+"activated-done"),this._trigger(this._evtName+"completed")},selectNextIndex:function(){var t=this._selectedIndex+1+this.baseIndex;t<this.pageData.length&&(t-=this.baseIndex,this.selectedIndex=t)},selectPrevIndex:function(){var t=this._selectedIndex-1+this.baseIndex;t>=0&&(t-=this.baseIndex,this.selectedIndex=t)},selectIndex:function(t,e){var s,i,n,o,r=t+this.baseIndex;if(!arguments.length||0>r||r>=this.pageData.length||!this.$cells.length)return this._selectedIndex;if(!this.options.switchedOff){if(o=this._selectedIndex||0,n=this._getPosition(r),0>t?t=this.baseLength+t:t>=this.baseLength&&(t-=this.baseLength),this.isCarousel||(n=Math.max(Math.min(n,this.maxScroll),this.minScroll)),n!=this._pos){if(o!=t){if(this._trigger(this._beforeEvtName,{nextIndex:t}).defaultPrevented)return this._selectedIndex;s=!0,this._selectedIndex=t}this._animStart=!1,this._animEnd=n,this.scroller.rbItemscrollerPos=this._pos,this.$scroller.stop(),i=this.duration*(n<this._pos?this._pos-n:n-this._pos)/this.viewportWidth,i=Math.max(Math.min(i,this.maxDuration),this.minDuration),e?(this.setPos(n),this.isAnimated=!1):(this.isAnimated=!0,this._animStart=this._pos,this.$scroller.animate({rbItemscrollerPos:n},{easing:"linear",start:this._pos,progress:this._slideProgress,duration:i,complete:this._slideComplete})),this._updateControls(n),s&&(this._trigger({prevIndex:o}),e&&this._slideComplete())}return this._selectedIndex=t,this._selectedIndex}},isStartReached:function(t){return null==t&&(t=this._pos),!this.isCarousel&&t>=this.maxScroll},isEndReached:function(t){return null==t&&(t=this._pos),!this.isCarousel&&t<=this.minScroll},_updateControls:function(s){var i,n,o=this.pageData[this._selectedIndex+this.baseIndex];this.isCarousel||(i=this.isEndReached(s),n=this.isStartReached(s),this.$element.find("."+this.name+"-btn-next").prop({disabled:i})[i?"addClass":"removeClass"](t.statePrefix+"disabled"),this.$element.find("."+this.name+"-btn-prev").prop({disabled:n})[n?"addClass":"removeClass"](t.statePrefix+"disabled")),this.element.setAttribute("data-current-index",this._selectedIndex+1),this.$currentIndex.html(this._selectedIndex+1),this.$cells.removeClass(t.statePrefix+"active"),o&&(o.$cellElems||(o.$cellElems=e(o.cellElems))).addClass(t.statePrefix+"activated").addClass(t.statePrefix+"active"),this.$paginationBtns.removeClass(t.statePrefix+"selected").eq(this._selectedIndex).addClass(t.statePrefix+"selected")},_setupTouch:function(){if(e.fn.draggy){var t=this,s=e(this.scroller);e(this.viewport).draggy({vertical:!1,start:function(){t.isAnimated=!1,s.stop()},end:function(e){if(!e.movedPos.x)return void t.selectNearest();var s=e.lastPos.x-e.velPos.x;e.horizontalVel<9&&(s=0,e.horizontalVel<9&&e.horizontalVel<9&&e.allowClick()),t._snapTo(s,e.horizontalVel,e.movedPos.x)},move:function(e){e.relPos.x&&t._setRelPos(-1*e.relPos.x)},useMouse:this.options.mouseDrag})}},_setRelPos:function(t){this.setPos(this._pos+t)},_changeWrap:function(t,e){var s,i,n,o=this.posPages[t].rbCells;for("ul"==e?this.isWrap=t:this.isWrap="",s=0,i=o.length;i>s;s++)n=o[s],n.isSide=this.isWrap,n.elem.style.left=n[e]+"px"},_setPos:function(t){var e,s,i,n;this.isCarousel&&((t>=this.maxWrapLeft||t<=this.minWrapRight)&&(t>=this.maxWrapLeft?t-=this.carouselWidth:t<=this.minWrapRight&&(t+=this.carouselWidth)),e=t>=this.minWrapLeft&&t<=this.maxWrapLeft,s=t>=this.minWrapRight&&t<=this.maxWrapRight,i="left"==this.isWrap&&!e&&this.maxUnwrapLeft<=t&&this.minUnwrapLeft>=t,n="right"==this.isWrap&&!s&&this.maxUnwrapRight<=t&&this.minUnwrapRight>=t,i?this._changeWrap("left","l"):n&&this._changeWrap("right","l"),"left"!=this.isWrap&&e?this._changeWrap("left","ul"):"right"!=this.isWrap&&s&&this._changeWrap("right","ul")),this._pos=t,this.scroller.rbItemscrollerPos=this._pos,this.usesTransform?this.scroller.style.transform="translate3d("+t+"px, 0, 0)":this.scroller.style.left=t+"px",this.onslide.fireWith(this)},updateCells:function(){var e=this;this.$cells=this.$scroller.children(),this.calculateLayout(),this.options.switchedOff||t.rAFQueue(function(){e.$cells.css({position:"absolute"}).addClass(e.name+"-cell")})},_getCellWidth:function(e){return t.getCSSNumbers(e,["width"])},calculateLayout:function(){this.options.switchedOff||(!this.cellData||this.scroller.offsetWidth||this.scroller.offsetHeight)&&(this.viewportCSS={"border-left-width":t.getCSSNumbers(this.scrollerClone||this.scroller,["padding-left"])+t.getCSSNumbers(this.viewportClone||this.viewport,["border-left-width"])+"px","border-right-width":t.getCSSNumbers(this.scrollerClone||this.scroller,["padding-right"])+t.getCSSNumbers(this.viewportClone||this.viewport,["border-right-width"])+"px"},this.viewportWidth=this.scroller.offsetWidth-t.getCSSNumbers(this.scroller,["padding-right"],!0),this.scrollerClone||(this.viewportWidth-=t.getCSSNumbers(this.scroller,["padding-left"],!0)),this._calculateCellLayout(),this._calculatePages(),this._writeLayout())},_calculateCellLayout:function(){var e=this,s=0,i=0;this.cellData=this.$cells.map(function(n){var o=s,r=t.getCSSNumbers(this,["margin-top","margin-bottom","height"],!0),a=e._getCellWidth(this);return s=o+a+t.getCSSNumbers(this,["margin-left","margin-right"]),r>i&&(i=r),{w:a,elem:this,r:s,l:o}}).get(),this.cellData.push({l:s,w:0,r:s,index:"last",elem:null}),this.highestCell=i+t.getCSSNumbers(this.scroller,["padding-top","padding-bottom"],!0),this.maxWrapRight=-1*(s-this.viewportWidth)},_writeLayout:function(){var t=this._pos,s=this;this.scroller.style.minHeight=this.highestCell+"px",this.$cells.each(function(t){this.style.left=s.cellData[t].l+"px"}),this.isWrap="",e(this.viewport).css(this.viewportCSS),this.selectIndex(this._selectedIndex,!0),this.isCarousel&&t==this._pos&&this._setPos(t)},_calculatePages:function(){var t,e,s,i,n,o,r,a,l,h,c=this.options.scrollStep,u=this.pageLength,p=0;if(this.pageData=this.cellData,this.$cells.length){if("auto"==c&&(c=this.options.centerMode?1:"view"),c.indexOf&&-1!=c.indexOf("cell")&&(c=1),this.options.carousel||!this.options.centerMode){for(o=-1*this.maxWrapRight,i=0;i<this.cellData.length;i++)s=i+1,this.cellData[i].l+s>=o&&this.cellData[i].l-s<=o&&(this.maxWrapRight=-1*this.cellData[i].l);this.minWrapLeft=0}for(this.options.centerMode?(e=this.viewportWidth/2,this.minScroll=e+-1*this.cellData[this.cellData.length-2].l-(this.cellData[this.cellData.length-1].l-this.cellData[this.cellData.length-2].l||1)/2,this.maxScroll=e-(this.cellData[1].l||1)/2):(this.minScroll=this.maxWrapRight,this.maxScroll=this.minWrapLeft||0),t=-1*this.minScroll,this.pageData=[],r=0,i=0,n=this.cellData.length-1;n>i;i++)s=.5*i+.5,h=this.cellData[i],!l||this.cellData[i+1].l>=r+s?(!this.options.centerMode&&l&&t-s<l.l&&p++,l={l:h.l,cells:[h],cellElems:[h.elem],i:l?l.i+1:0},this.pageData.push(l),r=h.l+this.viewportWidth,"view"!=c&&(a=i+c,a>n&&(a=n),r>this.cellData[a].l&&(r=this.cellData[a].l))):(l.cells.push(h),l.cellElems.push(h.elem)),l.r=this.cellData[i+1].l,this.cellData[i].pageIndex=l.i;this.baseIndex=0,this.baseLength=this.pageData.length,this.carouselWidth=this.pageData[this.baseLength-1].r,this.velUnit=Math.max(Math.min(this.carouselWidth/this.baseLength,999),400),this._createCarouselPages(),this.pageLength=this.baseLength-p,this.pageLength!=u&&(this._createPagination(),u>-1&&this._trigger("pagelengthchanged"))}},_addPosCorrect:function(t,e,s,i){var n,o,r;for(n=0,o=t.cells.length;o>n;n++)r=t.cells[n],r.uIndex=i>-1?r.pageIndex+i:i,r.ul=r.l+s,r.ur=r.r+s,e.push(r);return{carouselWidth:s,ol:t.l,or:t.r,l:t.l+s,r:t.r+s,i:t.i,cells:t.cells,cellElems:t.cellElems}},_createCarouselPages:function(){var t,e,s,i,n,o,r=this.viewportWidth;if(this.posPages={left:[],right:[]},this.posPages.right.rbCells=[],this.posPages.left.rbCells=[],this.isCarousel=this.options.carousel&&this.cellData[this.cellData.length-1].l/2>=this.viewportWidth,this.isCarousel){for(this.maxWrapLeft=r,this.minWrapRight=this.maxWrapRight-r,n=this.carouselWidth,t=0,e=this.pageData.length;e>t&&(s=this.pageData[t],this.posPages.right.push(this._addPosCorrect(s,this.posPages.right.rbCells,n,this.baseLength)),!(s.r>=r));t++);for(n*=-1,o=0,t=this.pageData.length-1,i=0;t>=0&&(s=this.pageData[t],i+=s.r-s.l,o--,this.posPages.left.push(this._addPosCorrect(s,this.posPages.left.rbCells,n,o)),!(i>=r));t--);this.minUnwrapRight=r,this.maxUnwrapRight=-1*this.posPages.right[this.posPages.right.length-1].or-r,this.minUnwrapLeft=-1*this.posPages.left[this.posPages.left.length-1].ol+r,this.maxUnwrapLeft=-1*this.posPages.left[0].or-r,this.pageData.unshift.apply(this.pageData,this.posPages.left.reverse()),this.pageData.push.apply(this.pageData,this.posPages.right),this.baseIndex=this.posPages.left.length}},_createPagination:function(){var e,i,n=this.pageLength;if(this.element.setAttribute("data-page-length",n),this.$pageLength.html(n),this.$pagination.length&&this.$paginationBtns.length!=n){for(e=[],i=0;n>i;i++)e.push(this.options.paginationItemTpl.replace(s,""+(i+1)));this.$pagination.html(e.join("")),this.$paginationBtns=this.$pagination.find("."+this.name+"-pagination-btn"),this.$paginationBtns.eq(this._selectedIndex).addClass(t.statePrefix+"selected")}}});return n})},function(t,e){!function(){"use strict";function t(e,s){this.element=e,this.options=Object.assign({},t._defaults,s),this._velDelay=333,this.velocitySnapShot=this.velocitySnapShot.bind(this),this.reset(),this.setupEvents(),this.setupMouse(),this.setupTouch()}var e=window.rb,s=e.$,i=/^(?:input|select|textarea|button)$/i;t._defaults={move:s.noop,start:s.noop,end:s.noop,preventClick:!0,preventMove:!0,useMouse:!0,useTouch:!0,horizontal:!0,vertical:!0},Object.assign(t.prototype,{hasRelevantChange:function(){var t,e,s=this.options,i=!0;return s.horizontal!=s.vertical&&(t=Math.abs(this.lastPos.x-this.curPos.x),e=Math.abs(this.lastPos.y-this.curPos.y),i=s.horizontal&&.8*t>e||s.vertical&&.8*e>t,!i&&2>t&&2>e&&(i="undecided")),i},reset:function(){this.isType="",this.allowMouse=!0,this.allowTouch=!0,this.startPos={},this.lastPos={},this.relPos={},this.curPos={},this.velTime=null,this.horizontalVel=0,this.verticalVel=0,this.allowClick=s.noop},velocitySnapShot:function(){var t;this.velTime&&(t=Date.now()-this.velTime,(t>99||!this.horizontalVel&&!this.verticalVel)&&(t=t/this._velDelay||1,this.velPos=this._velPos,this.horizontalVel=Math.abs(this.velPos.x-this.curPos.x)||1,this.verticalVel=Math.abs(this.velPos.y-this.curPos.y)||1,this.verticalVel/=t,this.horizontalVel/=t)),this._velPos=this.curPos,this.velTime=Date.now()},start:function(t,e){this.startPos={x:t.clientX,y:t.clientY,pX:t.pageX,pY:t.pageY},this.movedPos={x:0,y:0},this.curPos=this.startPos,this.relevantChange=!1,clearInterval(this._velocityTimer),this._velocityTimer=setInterval(this.velocitySnapShot,this._velDelay),this.velocitySnapShot(),this.options.start(this)},move:function(t,e){return this.lastPos=this.curPos,this.curPos={x:t.clientX,y:t.clientY,pX:t.pageX,pY:t.pageY},this.relevantChange===!0||(this.relevantChange=this.hasRelevantChange())?(this.options.preventMove&&"undecided"!=this.relevantChange&&e.preventDefault(),this.movedPos.x=this.startPos.x-this.curPos.x,this.movedPos.y=this.startPos.y-this.curPos.y,this.relPos.x=this.lastPos.x-this.curPos.x,this.relPos.y=this.lastPos.y-this.curPos.y,void this.options.move(this)):void this.end(t,e)},end:function(t,e){var s=this.options.preventClick;clearInterval(this._velocityTimer),this.velocitySnapShot(),this.allowClick=function(){s=!1},this._destroyTouch(),this._destroyMouse(),this.movedPos.x=this.startPos.x-this.curPos.x,this.movedPos.y=this.startPos.y-this.curPos.y,this.options.end(this),s&&(Math.abs(this.lastPos.x-this.startPos.x)>15||Math.abs(this.lastPos.y-this.startPos.y)>15)&&this.preventClick(e),this.reset()},preventClick:function(t){var e=this;e.isClickPrevented=!0,clearTimeout(this._preventClickTimer),this._preventClickTimer=setTimeout(function(){e.isClickPrevented=!1},333),t&&t.preventDefault&&t.preventDefault()},setupEvents:function(){var t=this;this._onclick=function(e){t.isClickPrevented&&(e.preventDefault(),e.stopImmediatePropagation())},this.element.addEventListener("click",this._onclick,!0)},setupMouse:function(){var t,e=this,s=function(t){return t.buttons||t.which?void e.move(t,t):(n(t),void e._destroyMouse())},n=function(t){e._destroyMouse(),e.end(t,t)};this._destroyMouse=function(){e.allowTouch=!0,clearTimeout(t),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",n)},this._onmousedown=function(t){e._destroyMouse(),!t.defaultPrevented&&e.options.useMouse&&e.allowMouse&&!i.test(t.target.nodeName||"")&&(e.allowTouch=!1,e.isType="mouse",document.addEventListener("mousemove",s),document.addEventListener("mouseup",n),e.start(t,t))},this.element.addEventListener("mousedown",this._onmousedown)},setupTouch:function(){var t=this,e=function(e){t.move((e.changedTouches||e.touches)[0],e)},s=function(e){t.allowMouse=!0,t._destroyTouch(),t.end((e.changedTouches||e.touches)[0],e)};this._destroyTouch=function(){t.element.removeEventListener("touchmove",e),t.element.removeEventListener("touchend",s)},this._ontouchstart=function(n){1==n.touches.length&&(t._destroyTouch(),!n.defaultPrevented&&t.options.useTouch&&t.allowTouch&&n.touches[0]&&!i.test(n.touches[0].target.nodeName||"")&&(t.allowMouse=!1,t.isType="touch",t.element.addEventListener("touchmove",e),t.element.addEventListener("touchend",s),t.start(n.touches[0],n)))},this.element.addEventListener("touchstart",this._ontouchstart)},destroy:function(){clearInterval(this._velocityTimer),this.element.removeEventListener("touchstart",this._ontouchstart),this.element.removeEventListener("mousedown",this._onmousedown),this.element.removeEventListener("click",this._onclick,!0)}}),e.Draggy=t,s.fn.draggy=function(e){var s;return this.each(function(){"destroy"==e?this._rbDraggy&&this._rbDraggy.destroy():this._rbDraggy||(this._rbDraggy=new t(this,e||{})),s||(s=this._rbDraggy)}),s||this}}()},function(t,e,s){!function(e){"object"==typeof t&&t.exports?(s(15),t.exports=e()):e()}(function(){"use strict";var t=window.rb,e=t.Component.mixin(t.components.itemscroller,{defaults:{autoplay:!1,autoplayDelay:2e3,pauseOnHover:!0,jumpToStart:!0},init:function(e,s){this._super(e,s),this._setAutoplayUI=t.rAF(function(){this.$element[this.options.autoplay?"addClass":"removeClass"](t.statePrefix+"autoplay")},{that:this})},events:{"click .{name}-autoplay-btn":function(){this.setOption("autoplay",!this.options.autoplay)}},setOption:function(t,e){switch(this._super(t,e),t){case"autoplay":this[e?"startAutoplay":"stopAutoplay"]();break;case"autoplayDelay":this.options.autoplay&&this.startAutoplay()}},stopAutoplay:function(){clearInterval(this._autoplayTimer),this._onenterAutoplay&&this.$element.off("mouseenter",this._onenterAutoplay),this._onleaveAutoplay&&this.$element.off("mouseleave",this._onleaveAutoplay),this.options.autoplay||this._setAutoplayUI()},startAutoplay:function(){var t=this,e=this.options;e.autoplay&&(this.stopAutoplay(),this._onenterAutoplay||(this._onenterAutoplay=function(){e.pauseOnHover&&clearInterval(t._autoplayTimer)}),this._onleaveAutoplay||(this._onleaveAutoplay=function(){e.pauseOnHover&&e.autoplay&&(clearInterval(t._autoplayTimer),t._autoplayTimer=setInterval(t._autoplayHandler,e.autoplayDelay))}),this._autoplayHandler||(this._autoplayHandler=function(){t.isCarousel||t.selectedIndex+1<t.baseLength?t.selectNext():t.selectIndex(0,e.jumpToStart)}),this.$element.on("mouseenter",this._onenterAutoplay),this.$element.on("mouseleave",this._onleaveAutoplay),clearInterval(t._autoplayTimer),t._autoplayTimer=setInterval(this._autoplayHandler,e.autoplayDelay),this._setAutoplayUI())},attached:function(){this.options.autoplay&&this.startAutoplay()},detached:function(){this.stopAutoplay()}});return e})},function(t,e,s){!function(e){"object"==typeof t&&t.exports?(s(15),t.exports=e()):e()}(function(){"use strict";var t=window.rb,e=/\s*?,\s*?/,s=/\s*?:\s*?/,i=/(px|%)$/,n=function(t){var e,n={condition:Number.MAX_VALUE,str:t};return t=t.split(s),1==t.length?n.css=t[0]:(n.condition=parseFloat(t[0]),n.css=t[1]),e=n.css.match(i),n.unit=e&&e[1]||"px",n.value=parseFloat(n.css),n},o=t.Component.mixin(t.components.itemscroller,{defaults:{queries:""},_parseQueries:function(){var t=this.options.queries;return t?void(this._parsedQueries&&this._parsedQueries.queryString==t||(this._parsedQueries=t.split(e).map(n),this._parsedQueries.queryString=t)):void(this._parsedQueries=null)},setOption:function(t,e){this._super(t,e),"queries"==t&&this.calculateLayout()},_getCellWidth:function r(){return this._parsedQueries&&this._parsedQueries.currentQuery?this._parsedQueries.currentQuery.computedValue:r._supbase.apply(this,arguments)},_getCurrentQuery:function(){if(this._parsedQueries){var t,e;for(e=0;e<this._parsedQueries.length&&(t=this._parsedQueries[e],!(this.viewportWidth<t.condition));e++);t.computedValue="%"==t.unit?this.viewportWidth*t.value/100:t.value,t!=this._parsedQueries.currentQuery&&(this._parsedQueries.currentQuery=t,this._setCurrentQuery())}},_setCurrentQuery:t.rAF(function(){this._parsedQueries&&this._parsedQueries.currentQuery&&this.$cells.css({width:this._parsedQueries.currentQuery.css})},{batch:!0}),_switchOff:function a(){var t=a._supbase.apply(this,arguments);return this._parsedQueries&&this._parsedQueries.currentQuery&&(this._parsedQueries.currentQuery=null,this.$cells.css({width:""})),t},_calculateCellLayout:function l(){return this._parseQueries(),this._getCurrentQuery(),l._supbase.apply(this,arguments)}});return o})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e():e()}(function(){"use strict";var t=window.rb,e=t.$,s=t.Component.extend("listbox",{defaults:{focusElement:""},statics:{regList:/^(?:ol|ul)$/i,type:{select:{index:"selectedIndex",item:"selectedItem",change:"_changeSelected"},check:{index:"checkedIndex",item:"checkedItem",change:"_changeChecked"}}},init:function(e,i){this._super(e,i),this.selectedIndex=-1,this.selectedItem=-1,this.checkedIndex=-1,this.checkedItem=-1,this.isList=s.regList.test(e.nodeName),t.rAFs(this,{throttle:!0},"_changeSelected","_changeChecked","postRender","renderList","_setFocusElement"),this._onkeyboardInput=this._onkeyboardInput.bind(this),this._onBlur=this._onBlur.bind(this),this._onFocus=this._onFocus.bind(this),this._getElements(),this._setFocusElement()},setOption:function(t,e){switch(this._super(t,e),t){case"focusElement":this._setFocusElement()}},events:{"mousedown .{name}-item":function(t){this.select(t.delegatedTarget)},"click .{name}-item":function(t){this.select(t.delegatedTarget),this.check(t.delegatedTarget)}},_getElements:function(){this.$items=e(this.queryAll(".{name}-item")),this.checkedItems=this.$items.filter("."+t.statePrefix+"checked").get(0)||null,this.checkedIndex=this.checkedItems?this.$items.index(this.checkedItems):-1},_onkeyboardInput:function(t){var e;40==t.keyCode?(e=!0,this.selectNext()):38==t.keyCode?(e=!0,this.selectPrev()):(32==t.keyCode||13==t.keyCode)&&(e=!0,this.checkSelected()),e&&t.preventDefault()},_onBlur:function(){this.select(-1)},_onFocus:function(){var t=this.focusElement.getAttribute("aria-activedescendant");t&&(t=this.query("#"+t)),t&&this.select(this.checkedItem||t)},_setFocusElement:function(){var t=this.options.focusElement;this.focusElement&&(this.focusElement.removeAttribute("aria-activedescendant"),this.focusElement.removeAttribute("tabindex"),this.focusElement.removeEventListener("keydown",this._onkeyboardInput),this.focusElement.removeEventListener("blur",this._onBlur)),this.focusElement="object"==typeof t?t:t&&this.getElementsFromString(t)[0]||this.element,-1!=this.focusElement.tabIndex||this.focusElement.getAttribute("tabindex")||this.focusElement.setAttribute("tabindex","0"),this.focusElement.addEventListener("keydown",this._onkeyboardInput),this.focusElement.addEventListener("blur",this._onBlur),this.focusElement.addEventListener("focus",this._onFocus)},_selectCheck:function(t,e){var i;e=s.type[e],-1==t||null==t?(t=-1,i=null):"number"==typeof t?i=this.$items.get(t):(i=t,t=this.$items.index(i)),t!=this[e.index]&&(this[e.index]=t,this[e.item]=i,this[e.change]())},select:function(t){this._selectCheck(t,"select")},_changeSelected:function(){this.$items.removeClass(t.statePrefix+"selected"),this.selectedItem&&(this.selectedItem.classList.add(t.statePrefix+"selected"),this.focusElement.setAttribute("aria-activedescendant",this.getId(this.selectedItem))),this._trigger("selectedchanged")},selectNext:function(){var t=this.selectedIndex+1;t>-1&&this.$items.length>t&&this.select(t)},selectPrev:function(){var t=this.selectedIndex-1;t>-1&&this.$items.length>t&&this.select(t)},_changeChecked:function(){this.$items.removeClass(t.statePrefix+"checked"),this.checkedItem&&this.checkedItem.classList.add(t.statePrefix+"checked"),this._trigger()},check:function(t){this._selectCheck(t,"check")},checkSelected:function(){this.selectedItem&&this.check(this.selectedItem)},postRender:function(){},renderList:function(){}});return s})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e():e()}(function(){"use strict";var t=window.rb,e=/^(?:input|textarea)$/i,s=t.Component.extend("panel",{defaults:{animation:"",duration:400,easing:"",setFocus:!0,closeOnOutsideClick:!1,resetSwitchedOff:!0,switchedOff:!1,closeOnEsc:!1,itemWrapper:""},init:function(e,s){this._super(e,s),this.isOpen=this.element.classList.contains(t.statePrefix+"open"),this.isDefaultOpen=this.isOpen,this._role=this.element.getAttribute("role"),this._onBodyClick=this._onBodyClick.bind(this),t.rAFs(this,{throttle:!0},"_opened","_closed","_switchOn","_switchOff"),this.setOption("easing",this.options.easing),this.options.switchedOff?t.rAFQueue(function(){e.classList.add(t.statePrefix+"switched-off")}):this.setOption("switchedOff",!1)},events:{"click .{name}-close":function(t){this.close(),t&&(t.stopImmediatePropagation(),t.preventDefault())},"keydown:keycodes(27)":function(t){this.options.closeOnEsc&&!t.defaultPrevented&&(this.close(),t.preventDefault(),t.stopPropagation())}},_switchOff:function(){this.element.removeAttribute("aria-hidden"),this.element.removeAttribute("role"),this.element.removeAttribute("tabindex"),this.options.resetSwitchedOff&&(this.isOpen=this.isDefaultOpen),this.isDefaultOpen||this.element.classList.remove(t.statePrefix+"open"),this.element.classList.add(t.statePrefix+"switched-off"),this.$element.css({visibility:"",height:"",overflow:"",display:""})},_switchOn:function(){this.isOpen&&this.element.classList.add(t.statePrefix+"open"),this.element.classList.remove(t.statePrefix+"switched-off"),this.element.setAttribute("aria-hidden",""+!this.isOpen),this.$element.attr({role:this._role||"group",tabindex:"-1"})},_onBodyClick:function(e){var s;return(this.isOpen||this.options.closeOnOutsideClick)&&t.root.contains(this.element)?void(e.target==this.element||this.element.contains(e.target)||(s=this,this._closeTimer=setTimeout(function(){s.close()},44))):void this.teardownFocusEvents()},setupFocusEvents:function(){this.teardownFocusEvents(),document.body.addEventListener("click",this._onBodyClick)},teardownFocusEvents:function(){clearTimeout(this._closeTimer),document.body.addEventListener("click",this._onBodyClick)},setOption:function(e,s){this._super(e,s),"easing"==e&&s&&"string"==typeof s?t.addEasing(s):"switchedOff"==e&&(s?this._switchOff():this._switchOn())},_handleAnimation:function(t){var e,s,i,n,o,r=this;return!t.defaultPrevented&&t.detail&&!t.detail.animationPrevented&&(e=this.$element,r.options.animation?s=this:this.options.animation!==!1&&this.groupComponent&&(s=this.groupComponent),s)?(i=s.options.animation,n={duration:s.options.duration,easing:s.options.easing},o={animation:i,options:n,event:t,panel:r},r.groupComponent&&r.groupComponent._handleAnimation&&r.groupComponent._handleAnimation(o),"slide"==o.animation&&(e.stop(),r.isOpen?e.rbSlideDown(o.options):e.rbSlideUp(o.options)),o):void 0},open:function(t){if(this.isOpen)return!1;var s=this.options,i=this._trigger(this._beforeEvtName,t);return t||(t={}),i.defaultPrevented?!1:(this.groupComponent&&this.groupComponent.panelChangeCB(this,"beforeopen"),clearTimeout(this._closeTimer),this.isOpen=!0,this._handleAnimation(i),t.setFocus===!1||!s.setFocus&&!t.setFocus||t.focusElement||(t.focusElement=this.getFocusElement()),t.focusElement&&e.test(t.focusElement.nodeName)?this._opened._rbUnrafedFn.call(this,t):this._opened(t),!0)},_getFocusDelay:function(t){var e=this.options,s=t&&t.focusDelay||e.animation&&e.duration||this.groupComponent&&this.groupComponent.options.animation&&this.groupComponent.options.duration;return s||e.focusDelay||0},_opened:function(e){var s=this._getFocusDelay(e);this.element.classList.add(t.statePrefix+"open"),this.element.setAttribute("aria-hidden","false"),this.options.itemWrapper&&t.changeState(this.element.closest(this.interpolateName(this.options.itemWrapper)),"selected-within",!0),this.groupComponent&&this.groupComponent.panelChangeCB(this,"afteropen"),e.focusElement?this.setComponentFocus(e.focusElement,s):this.storeActiveElement(),clearTimeout(this._closeTimer),this.options.closeOnOutsideClick&&this.setupFocusEvents(),this._trigger()},toggle:function(t){return this[this.isOpen?"close":"open"](t)},close:function(t){if(!this.isOpen)return!1;var e=this._trigger(this._beforeEvtName,t);return e.defaultPrevented?!1:(this.groupComponent&&this.groupComponent.panelChangeCB(this,"beforeclose"),this.isOpen=!1,this._handleAnimation(e),this._closed(t),clearTimeout(this._closeTimer),!0)},_closed:function(e){this.element.classList.remove(t.statePrefix+"open"),this.element.setAttribute("aria-hidden","true"),this.options.itemWrapper&&t.changeState(this.element.closest(this.interpolateName(this.options.itemWrapper)),"selected-within"),this.groupComponent&&this.groupComponent.panelChangeCB(this,"afterclose"),this._trigger(),clearTimeout(this._closeTimer),this.options.closeOnOutsideClick&&this.teardownFocusEvents(),e&&e.setFocus===!1||!(this.options.setFocus||e&&e.setFocus)||this.restoreFocus(!0)}});return t.components.button.extend("panelbutton",{defaults:{openTitle:"",closedTitle:""},init:function(e,s){this._super(e,s),this.updatePanelButtonState=t.rAF(this.updatePanelButtonState,{that:this,throttle:!0})},updatePanelButtonState:function(){var t=this.options,e=this.panelComponent.isOpen,s=!(!e||!this.panelComponent.groupComponent||this.panelComponent.groupComponent.options.toggle!==!1);this.element.setAttribute("aria-expanded",""+e),this.element.disabled=s,t.closedTitle&&t.openTitle&&(this.element.title=t[e?"openTitle":"closedTitle"]),this._isFakeBtn&&(this.element.setAttribute("aria-disabled",s),this.element.setAttribute("tabindex",s?-1:0))},_switchOff:function(){this._super(),this.element.removeAttribute("aria-expanded"),this._isFakeBtn&&(this.element.removeAttribute("role"),this.element.removeAttribute("tabindex"),this.element.removeAttribute("aria-disabled"))},_switchOn:function(){this._super(),this.panelComponent?this.updatePanelButtonState():(this.associatePanel(),this._isTargeting=!0,this._setTarget())},setTarget:function(){var t=this._super.apply(this,arguments);return this.associatePanel(),t},associatePanel:function(){var t,e=this.getTarget();e&&(t=this.component(e))&&"isOpen"in t&&this.panelComponent!=t&&(this.panelComponent&&(this.panelComponent.buttonComponent==this&&(this.panelComponent.buttonComponent=null),this.panelComponent.$element.off(this.panelComponent._evtName,this.updatePanelButtonState)),this.panelComponent=t,t.buttonComponent=this,t.$element.on(this.panelComponent._evtName,this.updatePanelButtonState),this.updatePanelButtonState())}}),s})},function(t,e,s){!function(e){"object"==typeof t&&t.exports?(s(20),t.exports=e()):e()}(function(){"use strict";var t=window.rb,e=t.$,s=t.life,i=s.componentExpando,n=t.components,o=function(){var t={display:""};this.style.height.startsWith("0")||(t.height="",t.overflow=""),e(this).css(t)};return t.Component.extend("panelgroup",{defaults:{multiple:!1,toggle:!0,animation:"",easing:"",duration:400,closeOnFocusout:!1,selectedIndex:-1,adjustScroll:!1,setFocus:!0,switchedOff:!1,resetSwitchedOff:!0,panelName:"{name}-panel",panelSel:"find(.{name}-panel)",btnSel:"find(.{name}-btn)",groupBtnSel:"find(.{name}-ctrl-btn)",panelWrapperSel:"find(.{name}-panel-wrapper):0",btnWrapperSel:"find(.{name}-btn-wrapper):0",itemWrapper:""},statics:{},init:function(s,i){this._super(s,i),this.options.multiple&&!this.options.toggle&&(this.options.toggle=!0),this.$element=e(s),this.selectedIndexes=[],this.selectedItems=[],t.rAFs(this,"setSelectedState","setSwitchedOffClass"),this._onOutSideInteraction=this._onOutSideInteraction.bind(this),this.setOption("easing",this.options.easing),this.options.switchedOff?this.setSwitchedOffClass():this.setOption("switchedOff",!1)},setSwitchedOffClass:function(){this.element.classList[this.options.switchedOff?"add":"remove"](t.statePrefix+"switched-off")},_handleAnimation:function(t){"slide"==t.animation&&t.panel.isOpen?this.adjustScroll(t.panel,t.options):"adaptHeight"==t.animation&&t.panel.isOpen&&this.animateWrapper(t.panel.element)},animateWrapper:function(s){var i,n=this,r=this.$panels.get(),a=-1,l=this.$panelWrapper.get(0),h=r.indexOf(s),c=[],u=l.offsetHeight;this.$panelWrapper.stop(),l.style.height="auto",this.selectedItems.forEach(function(t){t.style.display="none",a=r.indexOf(t),c.push(t)}),s.style.display="block",s.style.position="relative",i=l.offsetHeight,this.selectedItems.forEach(function(t){t.style.display=""}),s.style.display="",s.style.position="",e(c).addClass(t.statePrefix+"closing"),this.$panelWrapper.attr({"data-direction":h>a?"up":"down"}).css({overflow:"hidden",height:u+"px"}).animate({height:i},{duration:this.options.duration,easing:this.options.easing,always:function(){n.$panels.removeClass(t.statePrefix+"closing"),n.$panelWrapper.removeClass(t.statePrefix+"fx").attr({"data-direction":""}),o.call(this)}}).addClass(t.statePrefix+"fx")},adjustScroll:function(s,i,n){var o=this.options;if(n||o.adjustScroll&&!o.multiple){var r=o.adjustScroll&&document.activeElement||!1,a=t.getScrollingElement(),l=a.scrollTop,h=this.$panels,c=this.$panels.index(s.element),u=this.selectedItems.reduce(function(t,e){var s;return h.index(e)<c&&(!r||(s=r.compareDocumentPosition(e))&&4!=s&&20!=s)&&(t+=e.offsetHeight),t},0);u>0&&(r&&"number"==typeof o.adjustScroll&&(u-=r.getBoundingClientRect().top-o.adjustScroll),u>0&&e(a).animate({scrollTop:Math.max(l-u,0)},i))}},setSelectedState:function(){this.element.classList[this.selectedIndexes.length?"add":"remove"](t.statePrefix+"selected-within")},_updatePanelInformation:function(){var t=this;this.selectedIndexes.length=0,this.selectedItems.length=0,this.$panels.each(function(e){this[i].isOpen&&(t.selectedIndexes.push(e),t.selectedItems.push(this))}),this.options.closeOnFocusout&&this._addRemoveFocusOut(),this.setSelectedState()},_addRemoveFocusOut:function(){var t=this.options.closeOnFocusout&&this.selectedItems.length;t&&!this._hasFocusOutListener?(document.addEventListener("focus",this._onOutSideInteraction,!0),document.addEventListener("mousedown",this._onOutSideInteraction,!0)):!t&&this._hasFocusOutListener&&(document.removeEventListener("focus",this._onOutSideInteraction,!0),document.removeEventListener("mousedown",this._onOutSideInteraction,!0))},_onOutSideInteraction:function(e){!t.contains(this.element,e.target)&&document.body.contains(e.target)&&this.closeAll()},_getElements:function(){var i,o=this,r=this.options,a=this.getElementsFromString(r.btnWrapperSel)[0],l=this.interpolateName(this.options.itemWrapper||""),h=this.interpolateName(this.options.panelName),c=this.interpolateName(this.options.panelName,!0);this.$panelWrapper=e(this.getElementsFromString(r.panelWrapperSel)),
this.$panels=e(this.getElementsFromString(r.panelSel,this.$panelWrapper.get(0))).each(function(e){var i=s.create(this,t.components.panel,{jsName:c,name:h,resetSwitchedOff:r.resetSwitchedOff,setFocus:r.setFocus,itemWrapper:l,closeOnEsc:r.closeOnEsc});i.group=o.element,i.groupComponent=o}),n.panel.prototype.name="panel",i=this.$panels,this.$buttons=e(this.getElementsFromString(r.btnSel,a)).each(function(t){var e=s.create(this,n.panelbutton,{type:r.toggle?"toggle":"open",preventDefault:r.preventDefault});e.setTarget(i.get(t))}),this.$groupButtons=e(this.getElementsFromString(r.groupBtnSel)).each(function(t){var e=s.create(this,n.panelgroupbutton,{preventDefault:r.preventDefault});e.setTarget(o.element)})},closeAll:function(t){this.selectedItems.forEach(function(e,i){var n=s.getComponent(e);n&&n!=t&&e!=t&&i!==t&&n.close()})},openAll:function(t){this.$panels.get().forEach(function(e,i){var n=s.getComponent(e);n&&n!=t&&e!=t&&i!==t&&n.open()})},toggleAll:function(){this.selectedItems.length?this.closeAll():this.openAll()},_triggerOnce:function(){var t;this._isTriggering||(t=this,this._isTriggering=!0,setTimeout(function(){t._isTriggering=!1,t._trigger()}))},panelChangeCB:function(t,e){var s=this.options;switch(e){case"beforeopen":!s.multiple&&this.selectedItems.length&&this.closeAll(t);break;case"afteropen":case"afterclose":this._updatePanelInformation(),this._triggerOnce()}},next:function(t){var e=this.selectedIndexes[0];e=null==e?0:e+1,e>=this.$panels.get().length&&(e=0),this.selectIndex(e,t)},prev:function(t){var e=this.selectedIndexes[0];e=null==e?0:e-1,0>e&&(e=this.$panels.get().length-1),this.selectIndex(e,t)},getComponentByIndexOrDOM:function(t){var e;return null==t&&(t=0),e="number"==typeof t?this.$panels.get(t):t,e&&e[i]?e[i]:!1},selectIndex:function(t,e){var s=this.getComponentByIndexOrDOM(t);return s&&s.open(e)},deselectIndex:function(t,e){var s=this.getComponentByIndexOrDOM(t);return s&&s.close(e)},_switchOff:function(){this.$panels&&this.$buttons&&(this.setChildOption(this.$groupButtons,"switchedOff",!0),this.setChildOption(this.$buttons,"switchedOff",!0),this.setChildOption(this.$panels,"switchedOff",!0)),this.setSwitchedOffClass()},_switchOn:function(){this.$panelWrapper&&this.$panels.length?(this.setChildOption(this.$panels,"switchedOff",!1),this.setChildOption(this.$groupButtons,"switchedOff",!1),this.setChildOption(this.$buttons,"switchedOff",!1)):this._getElements(),this._updatePanelInformation(),this.setSwitchedOffClass(),this.selectedIndexes.length||this.selectIndex(this.options.selectedIndex,{animationPrevented:!0,setFocus:!1})},setOption:function(e,s){var i;"multiple"==e&&s&&!this.options.toggle?this.setOption("toggle",!0):"toggle"==e&&s!=this.options.toggle?this.setChildOption(this.$buttons,"type",s?"toggle":"open"):"easing"==e&&s&&"string"==typeof s?t.addEasing(s):"setFocus"==e||"resetSwitchedOff"==e||"closeOnEsc"==e?this.setChildOption(this.$panels,e,s):"closeOnFocusout"==e?this._addRemoveFocusOut():"switchedOff"==e?s?this._switchOff():this._switchOn():"preventDefault"==e?(this.setChildOption(this.$groupButtons,e,s),this.setChildOption(this.$buttons,e,s)):"itemWrapper"==e&&(s=this.interpolateName(s),this.setChildOption(this.$panels,e,s)),this._super(e,s),"toggle"!=e&&"multiple"!=e||!this.options.multiple||this.options.toggle||(i=this,setTimeout(function(){i.options.multiple&&!i.options.toggle&&i.setOption("toggle",!0)}))}}),n.button.extend("panelgroupbutton",{defaults:{}}),n.panelgroup.extend("tabs",{defaults:{selectedIndex:0,toggle:!1,animation:"adaptHeight"}}),n.panelgroup.extend("accordion",{defaults:{selectedIndex:0,toggle:!1,animation:"slide",adjustScroll:10,itemWrapper:".{name}-item"}}),n.panelgroup})},function(t,e,s){!function(e){"object"==typeof t&&t.exports?(s(20),s(23),t.exports=e()):e()}(function(){"use strict";var t=window.rb,e=t.Position,s=t.components.panel.extend("popover",{defaults:{positioned:!0,my:"center bottom",at:"center top",collision:"flip",anchor:"button",updateOnResize:!0,closeOnOutsideClick:!0,closeOnEsc:!0},statics:{mainbutton:{button:1,mainButton:1,panelButton:1}},init:function(e,s){this._super(e,s),this.reflow=t.throttle(this.reflow,{that:this}),this.options.positioned&&this.setOption("positioned",!0)},setOption:function(t,e){var s=this.options;this._super(t,e),"positioned"==t?e?this.position?this.$element.css({position:"absolute"}):this.initPositionedElement():this.$element.css({position:"",left:"",top:""}):(this.position&&"my"==t||"at"==t||"collision"==t)&&this.position.setOptions({my:s.my,at:s.at,collision:s.collision})},initPositionedElement:function(){var s=this;this.position=new e(this.element),t.rAFQueue(function(){s.$element.css({display:"block"})}),this.setOption("my",this.options.my)},reflow:function(e){return t.root.contains(this.element)?void((!e||this.options.updateOnResize)&&this.connect(!1,this.lastOpeningOptions)):void this.teardownPopoverResize()},setupPopoverResize:function(){this.teardownPopoverResize(),addEventListener("resize",this.reflow)},teardownPopoverResize:function(){removeEventListener("resize",this.reflow)},getAnchor:function(e){var i=e&&e.anchor||this.options.anchor||"";return 1!=i.nodeType&&("activeButton"==i?i=this.activeButtonComponent&&this.activeButtonComponent.element||this.buttonComponent&&this.buttonComponent.element:s.mainbutton[i]?i=this.buttonComponent&&this.buttonComponent.element||this.activeButtonComponent&&this.activeButtonComponent.element:"string"==typeof i&&(i=t.elementFromStr(i,this.element)[0])),i},connect:function(t,e){var s=(t||this.isOpen)&&this.getAnchor(e);s&&this.position&&this.position.connect(s)},open:function(t){var e=this._super.apply(this,arguments);return this.lastOpeningOptions=t,this.options.positioned&&(this.connect(e,t),e&&this.options.updateOnResize&&this.setupPopoverResize()),e},close:function(t){var e=this._super.apply(this,arguments);return this.options.positioned&&e&&(this.lastOpeningOptions=null,this.teardownPopoverResize()),e}});return s})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e():e()}(function(){"use strict";var t=window.rb,e=t.$,s=function(i,n){return i[s.expando]?(this.log("is already positioned"),i[s.expando]):this instanceof s?(this.element=i,this.$element=e(i),this.elemCstyle=t.getStyles(this.element),this.position=t.rAF(this._position,{that:this}),this.options={},this.pos={top:0,left:0},this.flipped={x:"",y:""},this.setOptions(n),this.position(this.element,{left:"-999px",position:"absolute",bottom:"auto",right:"auto"}),void(i[s.expando]=this)):new s(i,n)};return Object.assign(s,{regWhite:/\s+/g,expando:t.Symbol("_rbPosition"),labels:{top:"0",left:"0",center:"50",middle:"50",right:"100",bottom:"100"},isHorizontal:{left:1,right:1},margins:["marginTop","marginLeft","marginBottom","marginRight"],posType:{top:{dim:"height",rootDim:"clientHeight",margins:["marginTop","marginBottom"],axisIndex:1,axis:"y"},left:{dim:"width",rootDim:"clientWidth",margins:["marginLeft","marginRight"],axisIndex:0,axis:"x"}}}),Object.assign(s.prototype,{_position:function(t,e){var s,i,n=t.style;for(s in e)i=e[s],"number"==typeof i&&(i+="px"),n[s]=i;this.element.classList[this.flipped.x?"add":"remove"]("is-flipped-x"),this.element.classList[this.flipped.y?"add":"remove"]("is-flipped-y")},parsePosOption:function(t,e){var i;for(t=t.split(s.regWhite),t[1]||(t[1]=t[0]),s.isHorizontal[t[1]]&&this.log('use horizontal position values before vertical ones: "left top", instead of "top left"'),i=0;2>i;i++)t[i]in s.labels&&(t[i]=s.labels[t[i]]),e&&(t[i]=parseFloat(t[i])||0);return t},setOptions:function(t){var e=this.options.my,s=this.options.at,i=this.options.collision;return this.options=Object.assign({my:"0 0",at:"0 100",collision:"flip",anchor:null,using:this.position},this.options,t),e!==this.options.my&&(this.my=this.parsePosOption(this.options.my,1)),s!==this.options.at&&(this.at=this.parsePosOption(this.options.at,1)),i!==this.options.collision&&(this.collision=this.parsePosOption(this.options.collision)),this},getBoxLayout:function(i,n,o){var r,a,l=i.getBoundingClientRect();if(l={top:l.top,left:l.left,height:l.height,width:l.width},o)for(a=t.getStyles(i),r=0;4>r;r++)l[s.margins[r]]=e.css(i,s.margins[r],!0,a);return l},addOffset:function(t,e,i,n){var o,r=s.posType[t],a=e[t]+e[r.dim]*(i[r.axisIndex]/100);return n&&(i[r.axisIndex]<25||i[r.axisIndex]>75)&&(o=i[r.axisIndex]<50?0:1,1==o?a+=e[r.margins[o]]:a-=e[r.margins[o]]),a},calculatePosition:function(e,i,n,o,r,a){var l,h,c,u,p,d,f=s.posType[e],m=this.addOffset(e,i,o)-this.addOffset(e,n,r,!0)+this.pos[e];return"flip"==this.collision[f.axisIndex]&&(l=t.root[f.rootDim],h=n[e]+(m-this.pos[e]),c=0>h,u=h+n[f.dim]>l,(c||u)&&(this.flipped[f.axis]=!0,null!=a?(this.flipped[f.axis]=!1,m=a):(c&&r[f.axisIndex]>75&&o[f.axisIndex]<25||u&&r[f.axisIndex]<25&&o[f.axisIndex]>75)&&(p={},d={},p[f.axisIndex]=Math.abs(o[f.axisIndex]-100),d[f.axisIndex]=Math.abs(r[f.axisIndex]-100),m=this.calculatePosition(e,i,n,p,d,m)))),m},connect:function(t,s){var i,n,o,r=this.options;return this.pos.top=e.css(this.element,"top",1,this.elemCstyle),this.pos.left=e.css(this.element,"left",1,this.elemCstyle),this.flipped.x=!1,this.flipped.y=!1,"number"!=typeof this.pos.top&&(this.pos.top=0,this.element.style.top="0px"),"number"!=typeof this.pos.left&&(this.pos.left=0,this.element.style.left="0px"),n=this.getBoxLayout(t||r.anchor,this.at),o=this.getBoxLayout(this.element,this.my,!0),i={top:this.calculatePosition("top",n,o,this.at,this.my),left:this.calculatePosition("left",n,o,this.at,this.my)},this.pos.top=i.top,this.pos.left=i.left,s&&this.options.using._rbUnrafedFn?this.options.using._rbUnrafedFn.call(this,this.element,this.pos):this.options.using.call(this,this.element,this.pos,this.flipped),this}}),t.Position=s,s})},function(t,e){!function(){"use strict";var t=window.rb,e=t.$;t.components;t.i18n||(t.i18n={});var s=t.Component.extend("range",{defaults:{animate:!0,axis:"auto",inputs:"find(input)",values:50,step:1,max:100,min:0,titles:null,labelIds:null,labels:null},statics:{horizontal:{pos:"left",dim:"width",viewPos:"x",mousePos:"clientX"},vertical:{pos:"bottom",dim:"height",viewPos:"y",mousePos:"clientY"},getNearestIndex:function(t,e){var s,i,n,o,r=-1;for(s=0,i=e.length;i>s;s++)o=Math.abs(t-e[s]),(!n||n>o)&&(r=s,n=o);return r},makeArray:function(t){return Array.isArray(t)||(t=null!=t?[t]:[]),t}},init:function(s,i){this._super(s,i),this.pos=[],this._origin="component",this.oninput=e.Callbacks(),this._setThumbValues=t.rAF(this._setThumbValues,{batch:!0}),this._setInputValues=t.rAF(this._setInputValues,{batch:!0}),this._setActivateClass=t.rAF(this._setActivateClass),this._setAnimateClass=t.rAF(this._setAnimateClass),this.oninput.fireWith=t.rAF(this.oninput.fireWith),this._generateMarkup=t.rAF(this._generateMarkup),this._updateMinMax=t.rAF(this._updateMinMax),this._updateOptions=t.throttle(function(){this.updateInputData(),this._setThumbValues(),this._updateMinMax()},{simple:!0,delay:0}),this._detectAxis(),this._getOptionsByInputs(),this._generateMarkup()},setOption:function(t,e){this._super(t,e),"max"==t||"min"==t||"step"==t?this._updateOptions():"inputs"==t&&(this._getOptionsByInputs(),this._generateMarkup())},getValues:function(t){return null==t?this.values:this.values[t]},setValue:function(t,e,s){"boolean"==typeof e&&(s=e,e=0),null==s&&(s=this.options.animate),e=e||0,this._origin="external",this._setValue(this.constrainMinMax(t),e,s),this._trigger({origin:"external",index:e}),this._origin="component"},stepUp:function(t,e,s){"boolean"==typeof e&&(s=e,e=0),e||(e=0),this._origin="external",this._doStep(t,e,s),this._trigger({origin:"external",index:e}),this._origin="component"},stepDown:function(t,e,s){t||(t=1),this.stepUp(-1*t,e,s)},parseNumber:function(e){return"number"!=typeof e&&(e=t.i18n.formatNumber?t.i18n.parseNumber.apply(t.i18n,arguments):parseFloat(e)),e},formatNumber:function(e){return t.i18n.formatNumber?e=t.i18n.formatNumber.apply(t.i18n,arguments):"string"!=typeof e&&(e+=""),e},constrainMinMax:function(t){var e,s,i=this.options.step;return t>this.max?t=this.max:t<this.min?t=this.min:"any"!=this.options.step&&(e=(t-this.min)%i,s=t-e,2*Math.abs(e)>=i&&(s+=e>0?i:-i),t=1*s.toFixed(5)),t},posToValue:function(t){var e=(this.max-this.min)*(t/100)+this.min;return e=this.constrainMinMax(e)},valueToPos:function(t){var e;return t=this.constrainMinMax(this.parseNumber(t)),e=100*((t-this.min)/(this.max-this.min))},updateInputData:function(){var t=this.options;this.max=null,this.min=null,this.step=null,this.inputs.length&&this._parseInputsProperties(),null==this.max&&(this.max=t.max),null==this.min&&(this.min=t.min),null==this.step&&(this.step=t.min),this.values.length||(this.values=s.makeArray(t.values)),this._clacSteps()},_generateMarkup:function(){var t,s,i,n=this,o=e(document.createElement("span")),r=this.name+"-progress",a=this.name+"-thumb",l=this.name+"-tooltip",h=l+"-value",c=this.name+"-track",u='<span class="'+a+'" role="slider" tabindex="0"><span class="'+l+'"> <span class="'+h+'"></span></span></span>';i='<span class="'+r+" "+r+'-min"></span>',this.values.length>1&&(i+='<span class="'+r+" "+r+'-max"></span>'),u=i+u.repeat(this.values.length),o.prop({className:this.name+"-rail",innerHTML:'<span class="'+c+'">'+u+"</span>"}),this.track=o.find("."+c).get(0),this.thumbs=o.find("."+a).get(),this.tooltips=o.find("."+h).get(),t=o.find("."+r),this.progressMin=t.get(0),this.progressMax=t.get(1),this.thumbs.length>1&&(this.thumbs[0].setAttribute("aria-controls",this.getId(this.thumbs[1])),this.thumbs[this.thumbs.length-1].setAttribute("aria-controls",this.getId(this.thumbs[this.thumbs.length-2]))),this._setupEvents(),this._setThumbValues(),this._updateMinMax(),s=n.element.querySelector(n.name+"-list"),s&&n.track.appendChild(s),this._addLabelTitles(),n.$element.append(o.get(0))},_addLabelTitles:function(){var t=this,e=this.options,i=s.makeArray(e.titles),n=s.makeArray(e.labelIds),o=s.makeArray(e.labels);!this.inputs.length||i.length||n.length||o.length||this.inputs.forEach(function(e){var s="",o=e.labels&&e.labels[0],r=e.title;"labels"in e||!e.id||(o=document.querySelector('label[for="'+e.id+'"]')),o&&(s=t.getId(o)),i.push(r),n.push(s)}),this.thumbs.forEach(function(t,e){i[e]&&(t.title=i[e]),o[e]&&t.setAttribute("aria-label",o[e]),n[e]&&t.setAttribute("aria-labelledby",n[e])})},_detectAxis:function(){this.axis=this.options.axis,"auto"==this.axis&&(this.axis="horizontal",this.element.offsetHeight-9>this.element.offsetWidth&&(this.axis="vertical")),this.props=s[this.axis],this.props||this.log("unknown axis: "+this.axis,this)},_getOptionsByInputs:function(){var e=this.options.inputs;this.inputs=[],this.values=[],e&&(this.inputs=t.elementFromStr(e,this.element)),this.updateInputData()},_updateMinMax:function(){e(this.thumbs).attr({"aria-valuemax":this.max,"aria-valuemin":this.min})},_setActivateClass:function(){this.element.classList[this.isActivated?"add":"remove"](t.statePrefix+"active")},_activate:function(t){this.isActivated||(this.isActivated=!0,null!=t&&e(this.thumbs[t]).stop(),this._setActivateClass())},_deactivate:function(t){this.isActivated&&(this.isActivated=!1,this._setActivateClass(),this._trigger({origin:"component",index:t}))},_setAnimateClass:function(){this.element.classList[this.isAnimated?"add":"remove"](t.statePrefix+"animate")},_setAnimate:function(t){t=!!t,t!=this.isAnimated&&(this.isAnimated=t,this._setAnimateClass())},_getNearestTumb:function(t){return s.getNearestIndex(t,this.pos)},_setupEvents:function(){var s,i,n,o=this;this.$element.draggy("destroy"),this.$element.draggy({vertical:"vertical"==this.axis,horizontal:"horizontal"==this.axis,start:function(t){var e;i=!0,s=o.track.getBoundingClientRect(),e=(t.curPos[o.props.viewPos]-s[o.props.pos])/s[o.props.dim]*100,"vertical"==o.axis&&(e*=-1),n=o._getNearestTumb(e),o._setValue(o.posToValue(e),n,o.options.animate),o.setFocus(o.thumbs[n]),o._activate(n)},move:function(t){var r=(t.curPos[o.props.viewPos]-s[o.props.pos])/s[o.props.dim]*100;"vertical"==o.axis&&(r*=-1),i&&(e(o.thumbs[n]).stop(),i=!1),o._setValue(o.posToValue(r),n)},end:function(){o._deactivate(n)}}),e(this.inputs).each(function(s,i){var n=t.throttle(function(){var t=o.parseNumber(i.value);isNaN(t)||o._setValue(o.constrainMinMax(t),s,o.options.animate)},{delay:99,simple:!0});e(i).on("change",n).on("input",n)}),e(this.thumbs).each(function(t,s){e(s).on("keyup",function(){o._deactivate(t)}).on("keydown",function(e){var s,i,n=e.keyCode;39==n||38==n?s=o.defaultStep:37==n||40==n?s=-1*o.defaultStep:33==n?s=o.largeStep:34==n?s=-1*o.largeStep:36==n?i=o.min:35==n&&(i=o.max),(null!=s||null!=i)&&(e.preventDefault(),o._activate(t),null!=s?o._doStep(s,t):o._setValue(i,t))})})},_handleInputProperties:function(t){var e=this.parseNumber(t.value),s=t.getAttribute("data-max")||t.getAttribute("max"),i=t.getAttribute("data-min")||t.getAttribute("min"),n=null==this.step&&(t.getAttribute("data-step")||t.getAttribute("step"));return s&&(s=parseFloat(s),(null==this.max||s>this.max)&&(this.max=s)),i&&(i=parseFloat(i),(null==this.min||i<this.min)&&(this.min=i)),n&&(this.step=n),e},_parseInputsProperties:function(){this.values=this.inputs.map(this._handleInputProperties,this)},_doStep:function(t,e,s){t||(t=1),this._setValue(this.constrainMinMax(this.getValues(e)+this.defaultStepping*t),e,s)},_setValue:function(t,e,s){var i,n,o;null==e&&(e=0),this.values[e]!==t&&(i=!0,n=this.values[e-1],o=this.values[e+1],null!=n&&n>t?this._setValue(t,e-1,s):null!=o&&t>o&&this._setValue(t,e+1,s),this.values[e]=t),i&&(this._setAnimate(s),this._setThumbValues(e),this._setInputValues(e),this.oninput.fireWith(this,[e,this._origin]))},_clacSteps:function(){var t=this.max-this.min;this.defaultStep=1,this.defaultStepping="any"==this.options.step?Math.min(1,t/100):this.options.step,this.largeStep=Math.max(2*this.defaultStep,t/this.defaultStep/10)},_setThumbValue:function(t,e){var s=this.values[e],i=this.valueToPos(s),n=this.formatNumber(s);this.pos[e]=i,t.style[this.props.pos]=i+"%",t.setAttribute("aria-valuenow",s),t.setAttribute("aria-valuetext",this.formatNumber(s)),this.tooltips[e].setAttribute("data-value",n),0===e?this.progressMin.style[this.props.dim]=i+"%":e==this.thumbs.length-1&&this.progressMax&&(this.progressMax.style[this.props.dim]=100-i+"%")},_setThumbValues:function(t){null==t?this.thumbs.forEach(this._setThumbValue,this):this.thumbs[t]&&this._setThumbValue(this.thumbs[t],t)},_setInputValue:function(t,e){var s=this.values[e];s="text"==t.type?this.formatNumber(this.values[e]):s,s!=t.value&&(t.value=s)},_setInputValues:function(t){null==t?this.inputs.forEach(this._setInputValue,this):this.inputs[t]&&this._setInputValue(this.inputs[t],t)}})}()},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e():e()}(function(){"use strict";var t=window.rb,e=t.$,s=document.documentElement,i=(t.components._childfx||t.Component).extend("scrolly",{defaults:{switchedOff:!1,from:"-100eh",to:"100vh",once:!1,restSwitchedOff:!0,throttleDelay:0},statics:{regWhite:/\s/g,regCalc:/(([+-]*\d+[\.\d]*)(px|vh|eh|vw|ew))/g,knownUnits:{vh:1,eh:1,vw:1,ew:1}},init:function(s,i){this._super(s,i),this.minScroll=Number.MAX_VALUE,this.maxScroll=-1,this.checkTime=4e3+999*Math.random(),this.entered=!1,this.onprogress=e.Callbacks(),this.scrollingElement=t.getScrollingElement(),this.updateChilds=this.updateChilds||e.noop,t.rAFs(this,"changeState","setSwitchedOffClass"),t.rAFs(this.onprogress,"fireWith"),this.checkPosition=this.checkPosition.bind(this),this.calculateLayout=this.calculateLayout.bind(this),this._setupThrottleDelay(this.options.throttleDelay),this.reflow=t.throttle(function(){this.checkChildReflow&&this.checkChildReflow(),this.calculateLayout()},{that:this}),this.parseOffsets(),this.calculateLayout(),this.options.switchedOff&&this.setSwitchedOffClass()},_setupThrottleDelay:function(e){e&&e>30?this.throtteldCheckPosition=t.throttle(this.checkPosition,{delay:e}):this.throtteldCheckPosition=this.checkPosition},setOption:function(e,s){this._super(e,s),"switchedOff"==e||"restSwitchedOff"==e&&this.options.switchedOff&&this.options.restSwitchedOff?(this.changeState(!1),this.updateChilds(!0),this.progress=-2):"from"==e||"to"==e||"switchedOff"==e&&!s?(this.parseOffsets(),this.calculateLayout()):"throttleDelay"==e&&(this.detached(),this._setupThrottleDelay(s),t.root.contains(this.element)&&this.attached()),"switchedOff"==e&&this.setSwitchedOffClass()},setSwitchedOffClass:function(){this.element.classList[this.options.switchedOff?"add":"remove"]("is-switched-off")},parseOffsets:function(){this.parsedFrom=this.parseOffset(this.options.from),this.parsedTo=this.parseOffset(this.options.to)},parseOffset:function(t){var e;t=(""+t).replace(i.regWhite,"");for(var s=i.regCalc.exec(t),n={};null!=s;)e=i.knownUnits[s[3]]?s[3]:"px",n[e]=parseFloat(s[2]),s=i.regCalc.exec(t);return n},addOffset:function(t){var e,i,n,o=0;for(e in t)"eh"==e||"ev"==e?i=this.element:("vw"==e||"vh"==e)&&(i=s),i?(n="w"==e.charAt(1)?"clientWidth":"clientHeight",o+=i[n]/100*t[e]):o+=t[e];return o},calculateLayout:function(){if(!this.options.switchedOff){var t=this.element.getBoundingClientRect();this.lastCheck=Date.now(),(t.top||t.bottom||t.right||t.left)&&(this.minScroll=t.top+this.scrollingElement.scrollTop,this.maxScroll=this.minScroll,this.minScroll-=this.addOffset(this.parsedTo),this.maxScroll-=this.addOffset(this.parsedFrom),this.checkPosition())}},checkPosition:function(){var e,s,i;if(!this.options.switchedOff){var n,o=this.scrollingElement.scrollTop;if(Date.now()-this.lastCheck>this.checkTime&&(this.lastCheck=Date.now(),setTimeout(this.calculateLayout,99*Math.random())),i=this.minScroll<=o&&this.maxScroll>=o,i||0!==this.progress&&1!==this.progress){if(n=Math.max(Math.min((o-this.minScroll)/(this.maxScroll-this.minScroll),1),0),s=this.progress,this.progress=n,s==n||-2==s&&!n)return;this.updateChilds(),this.onprogress.fireWith(this,[n]),this.options.once===!0&&1===this.progress&&(e=this,i=!0,t.rAFQueue(function(){e.destroy()}))}this.entered!=i&&this.changeState(i)}},changeState:function(e){var s=this.options.once;this.entered!=e&&(this.entered=e,this.element.classList[e?"add":"remove"](t.statePrefix+"in-scrollrange"),this._trigger(),"entered"!=s&&(!s||this.childs&&this.childs.length)||this.destroy())},attached:function(){this.detached(),window.addEventListener("scroll",this.throtteldCheckPosition),t.resize.on(this.reflow),clearInterval(this.layoutInterval),this.layoutInterval=setInterval(this.reflow,Math.round(9999+5e3*Math.random()))},detached:function(){window.removeEventListener("scroll",this.throtteldCheckPosition),t.resize.off(this.reflow),clearInterval(this.layoutInterval)}});return t.components._childfx||t.log("_childfx not included"),i})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e():e()}(function(){"use strict";var t=window.rb,e=t.$,s={scroll:1,auto:1},i={parent:"parentNode",positionedParent:"offsetParent"},n=document.documentElement,o=(t.components._childfx||t.Component).extend("sticky",{defaults:{container:".is-sticky-parent",switchedOff:!1,topOffset:!1,bottomOffset:!1,progress:0,childSel:"find(.{name}-element)",setWidth:!0,resetSwitchedOff:!0,autoThrottle:!0,scrollContainer:""},init:function(s,i){this._super(s,i),this.isFixed=!1,this.isScrollFixed=!1,this.checkTime=666+666*Math.random(),this.isProgressDone=!1,this.onprogress=e.Callbacks(),this._throttleOptions={that:this,unthrottle:!0},this.updateChilds=this.updateChilds||e.noop,this.onprogress.fireWith=t.rAF(this.onprogress.fireWith,{throttle:!0}),t.rAFs(this,{throttle:!0},"updateLayout","_setProgressClass","setSwitchedOffClass"),this.calculateLayout=this.calculateLayout.bind(this),this.checkPosition=t.throttle(this.checkPosition,this._throttleOptions),this.reflow=t.throttle(function(){this.checkChildReflow&&this.checkChildReflow(),this.calculateLayout()},{that:this}),this._getElements(),this.calculateLayout(),this.options.switchedOff&&this.setSwitchedOffClass()},statics:{filterPos:function(t){return null!=t&&t>-1&&t<Number.MAX_VALUE}},setOption:function(t,e){this._super(t,e),"switchedOff"==t||"resetSwitchedOff"==t&&this.options.switchedOff&&this.options.resetSwitchedOff?(this._unfix(),this.updateChilds(!0),this.progress=-2):"bottomOffset"==t||"topOffset"==t||"switchedOff"==t&&!e?(this._unfix(),this.element.style.top="",this.element.style.bottom="",this._getElements(),this.calculateLayout()):"autoThrottle"!=t||e||this._throttleOptions.unthrottle?"scrollContainer"==t&&this._setScrollingElement():this._throttleOptions.unthrottle=!0,"switchedOff"==t&&this.setSwitchedOffClass()},setSwitchedOffClass:function(){this.element.classList[this.options.switchedOff?"add":"remove"]("is-switched-off")},_getElements:function(){var o,r=this.options;this.isContainerScroll=!1,this.elemStyles=t.getStyles(this.element),this.posProp=r.bottomOffset!==!1?"bottom":"top",o=this.posProp+"Offset",this.offset=0,this.nativeOffset=0,r[o]!==!1&&(this.offset-=r[o]),r.container&&(this.container=this.element[r.container]||this.element[i[r.container]]||this.$element.closest(r.container).get(0),this.container==document.body||this.container==n?this.container=null:this.container&&(this.isContainerScroll=!!s[e.css(this.container,"overflowY",!1,this.containerStyles)||e.css(this.container,"overflow",!1,this.containerStyles)],this.containerStyles=t.getStyles(this.container))),this._setScrollingElement()},_setScrollingElement:function(){var s,i=this.$scrollEventElem&&this.$scrollEventElem.get(0);this.options.scrollContainer&&(this.$scrollEventElem=e(this.element).closest(this.options.scrollContainer),s=this.$scrollEventElem.get(0),this.scrollingElement=s),this.options.scrollContainer&&this.scrollingElement||(this.isContainerScroll?(this.$scrollEventElem=this.$container,s=this.$container.get(0),this.scrollingElement=s):(s=window,this.$scrollEventElem=e(s),this.scrollingElement=t.getScrollingElement())),i!=s&&(i&&e(i).off("scroll",this.checkPosition),this.$scrollEventElem.on("scroll",this.checkPosition))},calculateLayout:function(){var t,s,i,r;this.minFixedPos=-1,this.maxFixedPos=Number.MAX_VALUE,this.minScrollPos=this.maxFixedPos,this.maxScrollPos=this.minFixedPos,this.scroll=this.scrollingElement.scrollTop,this.viewportheight=n.clientHeight,this.lastCheck=Date.now(),t=(this.isFixed?this.clone:this.element).getBoundingClientRect(),(t.right||t.bottom||t.top||t.left)&&(s=t[this.posProp]+this.scroll,this.options.setWidth&&(this.elemWidth=(this.isFixed?this.clone:this.element).offsetWidth),"top"==this.posProp?(this.minFixedPos=s+this.offset,this.options.progress&&(this.minProgressPos=this.minFixedPos,this.maxProgressPos=this.minFixedPos+this.options.progress)):(this.maxFixedPos=s-this.offset-this.viewportheight,this.options.progress&&(this.minProgressPos=this.maxFixedPos-this.options.progress,this.maxProgressPos=this.maxFixedPos)),this.container&&(i=this.container.getBoundingClientRect(),r=i["top"==this.posProp?"bottom":"top"]+this.scroll,"top"==this.posProp?(this.maxFixedPos=r+this.offset,this.minScrollPos=this.maxFixedPos-t.height-e.css(this.container,"padding-bottom",!0,this.containerStyles)-e.css(this.element,"margin-bottom",!0,this.elemStyles),this.maxFixedPos+=9-this.offset,this.maxScrollPos=this.maxFixedPos):(this.minFixedPos=r-n.clientHeight-this.offset,this.maxScrollPos=this.minFixedPos+t.height+e.css(this.container,"padding-top",!0,this.containerStyles)+e.css(this.element,"margin-top",!0,this.elemStyles),this.minFixedPos+=9+this.offset,this.minScrollPos=this.minFixedPos)),this._poses=[this.minScrollPos,this.minFixedPos,this.maxFixedPos,this.maxScrollPos,this.minProgressPos,this.maxProgressPos].filter(o.filterPos),this.checkPosition())},_isNearScroll:function(t){var e=this.scroll-t;return e<700+this.viewportheight&&e>-700-this.viewportheight},checkPosition:function(){if(!this.options.switchedOff){var t,e,s,i,n;if(this.scroll=this.scrollingElement.scrollTop,Date.now()-this.lastCheck>this.checkTime)return void this.calculateLayout();if(t=this.scroll>=this.minFixedPos&&this.scroll<=this.maxFixedPos,e=t&&this.scroll>=this.minScrollPos&&this.scroll<=this.maxScrollPos,this.options.autoThrottle&&(this._throttleOptions.unthrottle=this._poses.some(this._isNearScroll,this)),t&&!this.isFixed&&(this.elemHeight=this.element.offsetHeight,this.options.setWidth&&(this.elemWidth=this.element.offsetWidth)),s=t&&this.isFixed&&this.options.setWidth&&this.element.offsetWidth!=this.elemWidth,(t!=this.isFixed||e||this.isScrollFixed||s)&&this.updateLayout(t,e,s),this.options.progress&&(t&&this.scroll>=this.minProgressPos&&this.scroll<=this.maxProgressPos||0!==this.progress&&1!==this.progress)){if(i=1-Math.max(Math.min((this.scroll-this.minProgressPos)/(this.maxProgressPos-this.minProgressPos),1),0),n=this.progress,!t&&-2==n)return;n!=i&&(this.progress=i,1==i?this.isProgressDone||(this.isProgressDone=!0,this._setProgressClass()):this.isProgressDone&&(this.isProgressDone=!1,this._setProgressClass()),this.updateChilds(),this.onprogress.fireWith(this,[i]))}}},_setProgressClass:function(){this.element.classList[this.isProgressDone?"add":"remove"](t.statePrefix+"fixed-progressed")},updateLayout:function(t,e,s){var i,n;this.options.switchedOff||(s&&(this.element.style.width=this.elemWidth+"px"),t?(this.isFixed||(this._fix(),n=!0),e?(this.isScrollFixed=!0,i=-1*this.offset,"top"==this.posProp?i+=this.minScrollPos-this.scroll:i-=this.maxScrollPos-this.scroll,this.element.style[this.posProp]=i+"px"):this.isScrollFixed&&(this.isScrollFixed=!1,this.element.style[this.posProp]=-1*this.offset+"px")):this.isFixed&&(this._unfix(),n=!0),n&&this._trigger())},_unfix:function(){this.isFixed&&(this.isFixed=!1,this.isScrollFixed=!1,this.element.classList.remove(t.statePrefix+"fixed"),this.detachClone(),this.element.style.position="",this.element.style.width="",this.element.style[this.posProp]="")},_fix:function(){this.isFixed||(this.isFixed=!0,this.isScrollFixed=!1,this.attachClone(),this.element.classList.add(t.statePrefix+"fixed"),this.element.style.position="fixed",this.options.setWidth&&(this.element.style.width=this.elemWidth+"px"),this.element.style[this.posProp]=-1*this.offset+"px")},attachClone:function(){this.$clone||(this.clone=this.element.cloneNode(),this.$clone=e(this.clone),this.$clone.css({visibility:"hidden"}).removeClass("js-rb-life").addClass("sticky-clone").attr({"data-module":"","aria-hidden":"true"})),this.$clone.css({height:this.elemHeight+"px"}),this.$element.after(this.clone)},detachClone:function(){this.$clone&&this.$clone.detach()},attached:function(){t.resize.on(this.reflow),clearInterval(this.layoutInterval),this.layoutInterval=setInterval(this.reflow,Math.round(999*Math.random()+9999))},detached:function(){this.$scrollEventElem.off("scroll",this.checkPosition),t.resize.off(this.reflow),clearInterval(this.layoutInterval),this.$scrollEventElem=null}});return t.components._childfx||t.log("_childfx not included"),o})}]);